import{c as T,o as V,w as n,a as o,b as l,f as I,t as k,l as F,d as q,F as z,r as B,E,x as h,i as N,S as C}from"./app-uXddmEpz.js";import{i as O,f as R}from"./helper-BoB9zCoy.js";import{A as U,R as A}from"./AppLayout-Br8Pf_X-.js";import{T as D}from"./TextInput-CHlK30DQ.js";import{L as P}from"./LoadingButton-BLKfR7Zt.js";import{I as j}from"./InputLabel-D_8-PT0K.js";import{I as J}from"./InputError-ttZ3AOSc.js";import{S as M}from"./SelectInput-7AHhNMzI.js";import{R as Y}from"./Radio-BaIewTGl.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Logo-C5gnPx-H.js";import"./Icons-C3pYYq2K.js";import"./Footer-Xx_KaGDa.js";import"./v4-C6aID195.js";const H={__name:"Form",props:{stallsCategories:Object,stall:Object},setup(y,{expose:t}){var f,_,g,c,x,b,w,a;t();const p=E(),e=y,s=()=>O(p.url),r=h({name:s()?(f=e==null?void 0:e.stall)==null?void 0:f.name:"",area_of_sqr_meter:s()?(_=e==null?void 0:e.stall)==null?void 0:_.area_of_sqr_meter:"",long:s()?(c=JSON.parse((g=e==null?void 0:e.stall)==null?void 0:g.size))==null?void 0:c.long:"",lang:s()?(b=JSON.parse((x=e==null?void 0:e.stall)==null?void 0:x.size))==null?void 0:b.lat:"",size:"",stall_category_id:s()?(w=e==null?void 0:e.stall)==null?void 0:w.stall_category_id:"",is_transient:s()?(a=e==null?void 0:e.stall)==null?void 0:a.is_transient:""}),v=[{label:"Yes",value:!0},{label:"No",value:!1}],m=()=>{r.size=JSON.stringify({long:Number(r.long),lat:Number(r.lang)})};N(()=>[r.long,r.lang],()=>{m()});const i=()=>{delete r.lang,delete r.long,r.post(route("admin.stalls.store"))},d=()=>{var S;delete r.email,r.put(route("admin.stalls.update",(S=e==null?void 0:e.stall)==null?void 0:S.id))},u={page:p,props:e,checkIfEdit:s,form:r,transientOptions:v,getAreaOfSqrMeter:m,submit:i,update:d,stores:()=>s()?d():i(),watch:N,get Link(){return C},get usePage(){return E},get useForm(){return h},get formatDateShort(){return R},get isEditPage(){return O},AppLayout:U,TextInput:D,LoadingButton:P,InputLabel:j,InputError:J,SelectInput:M,get ROLE_ID(){return A},Radio:Y};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},K={class:"mb-8 text-3xl font-bold"},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"max-w-3xl bg-white rounded-md shadow overflow-hidden"},X={class:"flex flex-col md:flex-row gap-4 p-5"},Z={class:"w-full md:w-1/2"},$={class:"w-full md:w-1/2"},ee={class:"flex flex-col md:flex-row gap-4 px-5"},te={class:"w-full md:w-1/2"},le={class:"w-full md:w-1/2"},ae={class:"flex flex-col md:flex-row gap-4 p-5"},oe={class:"w-full md:w-1/2"},re=["value"],se={class:"w-full md:w-1/2"},ne={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"};function me(y,t,p,e,s,r){return V(),T(e.AppLayout,{title:"Stalls"},{header:n(()=>t[6]||(t[6]=[o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Stalls ",-1)])),default:n(()=>{var v,m,i,d,L,u,f,_,g,c,x,b,w;return[o("h1",K,[l(e.Link,{class:"text-primary hover:text-secondary",href:"/admin/system-setting/stalls"},{default:n(()=>t[7]||(t[7]=[I("Stalls")])),_:1,__:[7]}),t[8]||(t[8]=o("span",{class:"text-secondary font-medium"},"/",-1)),I(" "+k(e.checkIfEdit()?`${(v=e.props)==null?void 0:v.stall.name}`:"Create New"),1)]),o("div",Q,[o("div",W,[o("form",{onSubmit:F(e.stores,["prevent"])},[o("div",X,[o("div",Z,[l(e.InputLabel,{for:"Name",value:"Name"}),l(e.TextInput,{id:"Name",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=a=>e.form.name=a),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),l(e.InputError,{class:"mt-2",message:(i=(m=e.form)==null?void 0:m.errors)==null?void 0:i.name},null,8,["message"])]),o("div",$,[l(e.InputLabel,{for:"area_of_sqr_meter",value:"Area of Square Meter"}),l(e.TextInput,{id:"area_of_sqr_meter",modelValue:e.form.area_of_sqr_meter,"onUpdate:modelValue":t[1]||(t[1]=a=>e.form.area_of_sqr_meter=a),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"area_of_sqr_meter"},null,8,["modelValue"]),l(e.InputError,{class:"mt-2",message:(L=(d=e.form)==null?void 0:d.errors)==null?void 0:L.area_of_sqr_meter},null,8,["message"])])]),o("div",ee,[o("div",te,[l(e.InputLabel,{for:"lang",value:"Size - Latitude"}),l(e.TextInput,{id:"lang",modelValue:e.form.lang,"onUpdate:modelValue":t[2]||(t[2]=a=>e.form.lang=a),type:"number",class:"mt-1 block w-full",required:"",placeholder:"Latitude",autofocus:"",autocomplete:"lang"},null,8,["modelValue"]),l(e.InputError,{class:"mt-2",message:(f=(u=e.form)==null?void 0:u.errors)==null?void 0:f.lang},null,8,["message"])]),o("div",le,[l(e.InputLabel,{for:"long",value:"Size - Longitude"}),l(e.TextInput,{id:"long",modelValue:e.form.long,"onUpdate:modelValue":t[3]||(t[3]=a=>e.form.long=a),type:"number",class:"mt-1 block w-full",required:"",placeholder:"Longitude",autofocus:"",autocomplete:"long"},null,8,["modelValue"]),l(e.InputError,{class:"mt-2",message:(g=(_=e.form)==null?void 0:_.errors)==null?void 0:g.long},null,8,["message"])])]),o("div",ae,[o("div",oe,[l(e.InputLabel,{for:"stall_category_id",value:"Category",class:"mb-1 block w-full"}),l(e.SelectInput,{modelValue:e.form.stall_category_id,"onUpdate:modelValue":t[4]||(t[4]=a=>e.form.stall_category_id=a),id:"stall_category_id",required:"",autocomplete:"stall_category_id"},{default:n(()=>[(V(!0),q(z,null,B(p.stallsCategories,a=>(V(),q("option",{key:a.id,value:a.id},k(a.name),9,re))),128))]),_:1},8,["modelValue"]),l(e.InputError,{class:"mt-2",message:(x=(c=e.form)==null?void 0:c.errors)==null?void 0:x.stall_category_id},null,8,["message"])]),o("div",se,[l(e.InputLabel,{for:"is_transient",value:"For Transient / Volante",class:"mb-1 block w-full"}),l(e.Radio,{modelValue:y.is_transient,"onUpdate:modelValue":t[5]||(t[5]=a=>y.is_transient=a),options:e.transientOptions,name:"is_transient"},null,8,["modelValue"]),l(e.InputError,{class:"mt-2",message:(w=(b=e.form)==null?void 0:b.errors)==null?void 0:w.is_transient},null,8,["message"])])]),o("div",ne,[l(e.Link,{href:"/admin/system-setting/stalls",class:"text-red-600 hover:underline",tabindex:"-1"},{default:n(()=>t[9]||(t[9]=[I("Cancel")])),_:1,__:[9]}),l(e.LoadingButton,{loading:e.form.processing,class:"bg-primary ml-auto",type:"submit"},{default:n(()=>t[10]||(t[10]=[I("Save")])),_:1,__:[10]},8,["loading"])])],32)])])]}),_:1})}const Le=G(H,[["render",me],["__file","Form.vue"]]);export{Le as default};
