import{c as g,o as p,w as s,b as r,f as n,n as E,d as N,e as I,a,m as b,N as y,S as B,p as P,q as F,u as h,g as d,j as w,l as T}from"./app-Dn5hSVff.js";import{A as q}from"./ActionMessage-Du4h2KDz.js";import{F as A}from"./FormSection-DFDW42NY.js";import{I as C}from"./InputError-4rRk2-F3.js";import{I as D}from"./InputLabel-DphVoaUg.js";import{P as M}from"./PrimaryButton-CKMMsEVR.js";import{S as j}from"./SecondaryButton-vnumFzDe.js";import{T as z}from"./TextInput-hVIJxIGZ.js";import{D as R}from"./DatePick-BqXIGgbW.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SectionTitle-FgM-SPMB.js";import"./v4-C6aID195.js";const G={__name:"UpdateProfileInformationForm",props:{user:Object},setup(u,{expose:o}){o();const t=u,e=h({_method:"PUT",first_name:t.user.first_name,middle_name:t.user.middle_name,last_name:t.user.last_name,email:t.user.email,birthday:t.user.birthday,address:t.user.address,mobile:t.user.mobile,photo:null}),f=d(null),i=d(null),l=d(null),V=()=>{l.value&&(e.photo=l.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>c()})},k=()=>{f.value=!0},S=()=>{l.value.click()},x=()=>{const m=l.value.files[0];if(!m)return;const _=new FileReader;_.onload=U=>{i.value=U.target.result},_.readAsDataURL(m)},L=()=>{w.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{i.value=null,c()}})},c=()=>{var m;(m=l.value)!=null&&m.value&&(l.value.value=null)},v={props:t,form:e,verificationLinkSent:f,photoPreview:i,photoInput:l,updateProfileInformation:V,sendEmailVerification:k,selectNewPhoto:S,updatePhotoPreview:x,deletePhoto:L,clearPhotoFileInput:c,ref:d,get Link(){return T},get router(){return w},get useForm(){return h},ActionMessage:q,FormSection:A,InputError:C,InputLabel:D,PrimaryButton:M,SecondaryButton:j,TextInput:z,DatePick:R};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},H={key:0,class:"col-span-6 sm:col-span-4"},J={class:"mt-2"},K=["src","alt"],Q={class:"mt-2"},W={class:"col-span-6 sm:col-span-4"},X={class:"col-span-6 sm:col-span-4"},Y={class:"col-span-6 sm:col-span-4"},Z={class:"col-span-6 sm:col-span-4"},$={class:"col-span-6 sm:col-span-4"},ee={class:"col-span-6 sm:col-span-4"},oe={class:"col-span-6 sm:col-span-4"};function re(u,o,t,e,f,i){return p(),g(e.FormSection,{onSubmitted:e.updateProfileInformation},{title:s(()=>[...o[7]||(o[7]=[n(" Profile Information ",-1)])]),description:s(()=>[...o[8]||(o[8]=[n(" Update your account's profile information and email address. ",-1)])]),form:s(()=>[u.$page.props.jetstream.managesProfilePhotos?(p(),N("div",H,[a("input",{id:"photo",ref:"photoInput",type:"file",class:"hidden",onChange:e.updatePhotoPreview},null,544),r(e.InputLabel,{for:"photo",value:"Photo"}),b(a("div",J,[a("img",{src:t.user.profile_photo_url,alt:t.user.name,class:"rounded-full size-20 object-cover"},null,8,K)],512),[[y,!e.photoPreview]]),b(a("div",Q,[a("span",{class:"block rounded-full size-20 bg-cover bg-no-repeat bg-center",style:B("background-image: url('"+e.photoPreview+"');")},null,4)],512),[[y,e.photoPreview]]),r(e.SecondaryButton,{class:"mt-2 me-2",type:"button",onClick:P(e.selectNewPhoto,["prevent"])},{default:s(()=>[...o[9]||(o[9]=[n(" Select A New Photo ",-1)])]),_:1}),t.user.profile_photo_path?(p(),g(e.SecondaryButton,{key:0,type:"button",class:"mt-2",onClick:P(e.deletePhoto,["prevent"])},{default:s(()=>[...o[10]||(o[10]=[n(" Remove Photo ",-1)])]),_:1})):I("",!0),r(e.InputError,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):I("",!0),a("div",W,[r(e.InputLabel,{for:"first_name",value:"First Name"}),r(e.TextInput,{id:"first_name",modelValue:e.form.first_name,"onUpdate:modelValue":o[0]||(o[0]=l=>e.form.first_name=l),type:"text",class:"mt-1 block w-full",required:"",disabled:"",autocomplete:"first_name"},null,8,["modelValue"]),r(e.InputError,{message:e.form.errors.first_name,class:"mt-2"},null,8,["message"])]),a("div",X,[r(e.InputLabel,{for:"middle_name",value:"Middle Name"}),r(e.TextInput,{id:"middle_name",modelValue:e.form.middle_name,"onUpdate:modelValue":o[1]||(o[1]=l=>e.form.middle_name=l),type:"text",disabled:"",class:"mt-1 block w-full",autocomplete:"middle_name"},null,8,["modelValue"]),r(e.InputError,{message:e.form.errors.middle_name,class:"mt-2"},null,8,["message"])]),a("div",Y,[r(e.InputLabel,{for:"last_name",value:"Last Name"}),r(e.TextInput,{id:"last_name",modelValue:e.form.last_name,"onUpdate:modelValue":o[2]||(o[2]=l=>e.form.last_name=l),type:"text",class:"mt-1 block w-full",required:"",disabled:"",autocomplete:"last_name"},null,8,["modelValue"]),r(e.InputError,{message:e.form.errors.last_name,class:"mt-2"},null,8,["message"])]),a("div",Z,[r(e.InputLabel,{for:"birthday",value:"Date of Birth",class:"mb-1 block w-full"}),r(e.DatePick,{modelValue:e.form.birthday,"onUpdate:modelValue":o[3]||(o[3]=l=>e.form.birthday=l),id:"birthday",autofocus:"",disabled:"",autocomplete:"birthday"},null,8,["modelValue"]),r(e.InputError,{class:"mt-2",message:e.form.errors.birthday},null,8,["message"])]),a("div",$,[r(e.InputLabel,{for:"address",value:"Address"}),b(a("textarea",{id:"address","onUpdate:modelValue":o[4]||(o[4]=l=>e.form.address=l),type:"text",disabled:"",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:"",autocomplete:"address"},null,512),[[F,e.form.address]]),r(e.InputError,{class:"mt-2",message:e.form.errors.address},null,8,["message"])]),a("div",ee,[r(e.InputLabel,{for:"email",value:"Email"}),r(e.TextInput,{id:"email",modelValue:e.form.email,"onUpdate:modelValue":o[5]||(o[5]=l=>e.form.email=l),type:"email",class:"mt-1 block w-full",required:"",disabled:"",autocomplete:"username"},null,8,["modelValue"]),r(e.InputError,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])]),a("div",oe,[r(e.InputLabel,{for:"mobile",value:"Mobile Number"}),r(e.TextInput,{id:"mobile",modelValue:e.form.mobile,"onUpdate:modelValue":o[6]||(o[6]=l=>e.form.mobile=l),type:"text",disabled:"",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:"",autocomplete:"mobile"},null,8,["modelValue"]),r(e.InputError,{class:"mt-2",message:e.form.errors.mobile},null,8,["message"])])]),actions:s(()=>[r(e.ActionMessage,{on:e.form.recentlySuccessful,class:"me-3"},{default:s(()=>[...o[11]||(o[11]=[n(" Saved. ",-1)])]),_:1},8,["on"]),r(e.PrimaryButton,{class:E({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:s(()=>[...o[12]||(o[12]=[n(" Save ",-1)])]),_:1},8,["class","disabled"])]),_:1})}const be=O(G,[["render",re],["__file","UpdateProfileInformationForm.vue"]]);export{be as default};
