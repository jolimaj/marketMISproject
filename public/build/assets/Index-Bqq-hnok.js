import{c as T,o as x,w as m,a as r,b as l,d as b,e as j,F as I,r as L,t as h,h as C,i as F,j as v,l as D}from"./app-B_8Clt4P.js";import{l as y,p as B}from"./pickBy-tr4G7092.js";import{A as P}from"./AppLayout-ISdFsMSZ.js";import{B as O}from"./BaseTable-DIJ5rBel.js";import{P as z}from"./Pagination-DKf1m_Iz.js";import{S as A}from"./SearchFilter-DRU9LNNi.js";import{I as H}from"./Icons-DhN38kpC.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Logo--O1JlZvE.js";import"./Footer-BWsEWx2g.js";const M={__name:"Index",props:{stallsCategories:Object,filters:Object},setup(_,{expose:s}){var i;s();const a=["ID","Name"],t=_,o=C({search:(i=t==null?void 0:t.filters)==null?void 0:i.search});F(o,y.throttle(()=>{v.get("/admin/system-setting/stall-types",B(o),{preserveState:!0})},150),{deep:!0});function k(){o.search="",Object.assign(o,y.mapValues(o,()=>null))}function p(f){return f.map(e=>{const{is_daily:c,is_monthly:S,is_styro:g,is_per_kilo:u,type:V,amount:N}=e,w=`â‚±${Number(N).toLocaleString("en-PH",{minimumFractionDigits:2})}`;let n=null;return g&&u&&c&&(n="day of styrofoam"),u&&c&&(n="day of product per kilo"),S&&!c&&!g&&!u&&(n="monthly"),c&&!S&&!g&&!u&&(n="day"),n?`${V}: ${w}/${n}`:`${V}: ${w}`}).join("<br>")}const d={headers:a,props:t,form:o,reset:k,handleFeesChange:p,watch:F,reactive:C,get Link(){return D},get router(){return v},get throttle(){return y.throttle},get mapValues(){return y.mapValues},get pickBy(){return B},AppLayout:P,BaseTable:O,Pagination:z,SearchFilter:A,Icon:H};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"flex items-center justify-between mb-6"},Y={class:"px-4 py-3"},q={class:"px-4 py-3 capitalize"},G={class:"px-4 py-3 capitalize"},J={class:"px-4 py-3 capitalize"},K=["innerHTML"],Q={class:"w-px border-t"},W={key:0},X={class:"mt-6 flex justify-center"};function Z(_,s,a,t,o,k){return x(),T(t.AppLayout,{title:"Stall Types"},{header:m(()=>[...s[1]||(s[1]=[r("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Stall Types ",-1)])]),default:m(()=>{var p,d;return[s[4]||(s[4]=r("h1",{class:"mb-8 text-3xl font-bold text-primary"},"Stall Types",-1)),r("div",R,[r("div",U,[l(t.SearchFilter,{modelValue:t.form.search,"onUpdate:modelValue":s[0]||(s[0]=i=>t.form.search=i),class:"mr-4 w-full max-w-md",onReset:t.reset},null,8,["modelValue"])]),l(t.BaseTable,{headers:t.headers,data:(p=a.stallsCategories)==null?void 0:p.data},{header:m(()=>[...s[2]||(s[2]=[r("th",{class:"px-4 py-3 text-left"},"Stall Type ID",-1),r("th",{class:"px-4 py-3 text-left"},"Name",-1),r("th",{class:"px-4 py-3 text-left"},"Description",-1),r("th",{class:"px-4 py-3 text-left"},"Volante/Transient",-1),r("th",{class:"px-4 py-3 text-left"},"Fees",-1)])]),row:m(({data:i})=>{var f;return[(x(!0),b(I,null,L(i,(e,c)=>(x(),b("tr",{key:a.stallsCategories.id,class:"hover:bg-gray-50"},[r("td",Y,h(e==null?void 0:e.id),1),r("td",q,h(e==null?void 0:e.name),1),r("td",G,h(e==null?void 0:e.description),1),r("td",J,h(e!=null&&e.is_transient?"Yes":"No"),1),r("td",{class:"px-4 py-3",innerHTML:t.handleFeesChange(e==null?void 0:e.fee)?t.handleFeesChange(e==null?void 0:e.fee):"No Fees"},null,8,K),r("td",Q,[l(t.Link,{class:"flex items-center px-4",href:_.route("admin.stall.type.edit",e==null?void 0:e.id),tabindex:"-1"},{default:m(()=>[l(t.Icon,{name:"cheveron-right",class:"block w-6 h-6 fill-primary"})]),_:1},8,["href"])])]))),128)),((f=a.stallsCategories)==null?void 0:f.total)===0?(x(),b("tr",W,[...s[3]||(s[3]=[r("td",{class:"px-6 py-4 border-t text-center",colspan:"7"},"No records found.",-1)])])):j("",!0)]}),_:1},8,["data"])]),r("div",X,[l(t.Pagination,{links:(d=a.stallsCategories)==null?void 0:d.links},null,8,["links"])])]}),_:1})}const ce=E(M,[["render",Z],["__file","Index.vue"]]);export{ce as default};
