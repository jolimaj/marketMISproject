import{d as l,o as i,a as o,b as c,F as h,r as I,e as O,n as p,t as x,c as A,w as g,H as k,g as b,l as P,s as _,L,f as M,j as R}from"./app-C9RkxTMI.js";import{L as E}from"./Logo-B9Pz234s.js";import{I as C}from"./Icons-CNOXkTqW.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{F as T}from"./Footer-BfZ7mAup.js";const S=[{label:"Dashboard",icon:"home",link:"/admin/dashboard"},{label:"Users",icon:"usersList",link:"/users",children:[{label:"Vendors",icon:"vendor",link:"/admin/users?role=vendor"},{label:"Admins",icon:"sub-admin",link:"/admin/users?role=sub-admin"}]},{label:"Rental Management",icon:"applications",link:"/admin/rental-management",children:[{label:"Stall Leasing",icon:"stalls",link:"/admin/rental-management/stall-leasing"},{label:"Table Spaces",icon:"table",link:"/admin/rental-management/table-spaces"},{label:"Market Volante",icon:"volante-type",link:"/admin/rental-management/market-volante"}]},{label:"System Setting",icon:"settings",link:"/admin/system-setting",children:[{label:"Rental Space",icon:"stalls",link:"/admin/system-setting/rental-space"},{label:"Fees Masterlist",icon:"fees",link:"/admin/system-setting/fees"},{label:"Requirements List",icon:"requirements",link:"/admin/system-setting/requirements"}]}],D=[{label:"My Rentals",icon:"applications",link:"/my-rentals",children:[{label:"Stall Leasing",icon:"stalls",link:"/my-rentals/stall-leasing"},{label:"Table Spaces",icon:"table",link:"/my-rentals/table-spaces"},{label:"Market Volante",icon:"volante-type",link:"/my-rentals/market-volante"}]}],N=[{label:"Dashboard",icon:"home",link:"/department/dashboard"},{label:"Applications",icon:"applications",link:"/department/applications",children:[{label:"Stall Leasing",icon:"stalls",link:"/department/applications/stall-leasing"},{label:"Table Spaces",icon:"table",link:"/department/applications/table-spaces"},{label:"Market Volante",icon:"volante-type",link:"/department/applications/market-volante"}]}],w={ADMIN:1,SUB_ADMIN:2,USER:3},j={BPLS:1,MTO:2,MHO:3,BFP:4,MEO:5,MPDO:6,MASSO:7,MENRO:8,SO:9,PMO:10,SB:11,HRMO:12,GSO:13,CRO:14,PESO:15,DRRMO:16},U={__name:"Sidebar",props:{open:Boolean},emits:["close"],setup(s,{expose:t}){t();const r=k(),e=s,d=b({}),m=a=>{d.value[a]=!d.value[a]};function n(a){const{role_id:B,sub_admin_type_id:pe}=a;let y;switch(B){case w.SUB_ADMIN:y=N;break;case w.USER:y=D;break;default:y=S;break}return y}function f(){return r.props.auth.user}const u={page:r,props:e,openSections:d,toggleSection:m,getItems:n,getUserDetails:f,ref:b,get Link(){return P},get usePage(){return k},get adminItems(){return S},get userItem(){return D},get subItem(){return N},get ADMIN_TYPE(){return j},get ROLE_ID(){return w},Logo:E,Icons:C};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},H={class:"p-4 flex items-center justify-center"},V={class:"p-4 space-y-1 overflow-y-auto max-h-[calc(100vh-100px)]"},F={key:0,class:"space-y-1"},$=["onClick"],z={class:"flex items-center gap-2"},q={class:"truncate"},W={key:0,class:"ml-6 space-y-1"},Y={class:"truncate"},G={key:1},J={class:"truncate"};function K(s,t,r,e,d,m){return i(),l("aside",{class:p(["fixed md:static inset-y-0 left-0 z-40 bg-white shadow-lg transform transition-transform duration-200 ease-in-out","min-h-screen w-64 sm:w-56 md:w-60",{"-translate-x-full":!r.open,"translate-x-0":r.open},"md:translate-x-0"])},[o("div",H,[c(e.Logo,{class:"fill-current text-gray-800",style:{width:"120px",height:"50px"}})]),o("nav",V,[(i(!0),l(h,null,I(e.getItems(e.getUserDetails()),(n,f)=>(i(),l(h,{key:f},[n.children?(i(),l("div",F,[o("button",{onClick:u=>e.toggleSection(n.label),class:p(["flex items-center justify-between w-full px-3 py-2 text-primary rounded-md hover:bg-primary/60 hover:text-white text-sm transition",["flex items-center gap-2 px-2 py-1 rounded text-primary hover:bg-primary/60 hover:text-white transition text-sm",{"bg-primary/60 text-white":s.$page.url===n.link||s.$page.url.startsWith(n.link+"/")}]])},[o("div",z,[c(e.Icons,{is:n.icon,name:n.icon,class:"w-5 h-5 shrink-0"},null,8,["is","name"]),o("span",q,x(n.label),1)]),(i(),l("svg",{class:p(["w-4 h-4 transition-transform",{"rotate-90":e.openSections[n.label]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[0]||(t[0]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))],10,$),e.openSections[n.label]?(i(),l("div",W,[(i(!0),l(h,null,I(n.children,(u,a)=>(i(),A(e.Link,{key:a,href:u.link,class:p([["flex items-center gap-2 px-2 py-1 rounded text-primary hover:bg-primary/60 hover:text-white transition text-sm",{"bg-primary/60 text-white":s.$page.url===u.link||s.$page.url.startsWith(u.link+"/")}],"flex items-center gap-2 px-2 py-1 rounded text-primary hover:bg-primary/60 hover:text-white transition text-sm"])},{default:g(()=>[c(e.Icons,{is:u.icon,name:u.icon,class:"w-4 h-4 shrink-0"},null,8,["is","name"]),o("span",Y,x(u.label),1)]),_:2},1032,["href","class"]))),128))])):O("",!0)])):(i(),l("div",G,[c(e.Link,{href:n.link,class:p(["flex items-center gap-3 px-3 py-2 rounded-md text-primary hover:bg-primary/60 hover:text-white transition text-sm",["flex items-center gap-2 px-2 py-1 rounded text-primary hover:bg-primary/60 hover:text-white transition text-sm",{"bg-primary/60 text-white":s.$page.url===n.link||s.$page.url.startsWith(n.link+"/")}]])},{default:g(()=>[c(e.Icons,{is:n.icon,name:n.icon,class:"w-5 h-5 shrink-0"},null,8,["is","name"]),o("span",J,x(n.label),1)]),_:2},1032,["href","class"])]))],64))),128))])],2)}const Q=v(U,[["render",K],["__file","Sidebar.vue"]]),X={__name:"ResponsiveNavLink",props:{active:Boolean,href:String,as:String},setup(s,{expose:t}){t();const r=s,e=L(()=>r.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-primary bg-primary/50 focus:outline-none focus:text-primary focus:bg-primary focus:border-primary transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-primary/60 hover:border-gray-300 focus:outline-none focus:text-primary focus:bg-primary/50 focus:border-primary transition duration-150 ease-in-out"),d={props:r,classes:e,computed:L,get Link(){return P}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},Z=["href"];function ee(s,t,r,e,d,m){return i(),l("div",null,[r.as=="button"?(i(),l("button",{key:0,class:p([e.classes,"w-full text-start"])},[_(s.$slots,"default")],2)):r.as=="a"?(i(),l("a",{key:1,class:p([e.classes,"w-full text-start"]),href:r.href},[_(s.$slots,"default")],10,Z)):(i(),A(e.Link,{key:2,href:r.href,class:p(e.classes)},{default:g(()=>[_(s.$slots,"default")]),_:3},8,["href","class"]))])}const te=v(X,[["render",ee],["__file","ResponsiveNavLink.vue"]]),ne={__name:"Header",emits:["toggleSidebar"],setup(s,{expose:t,emit:r}){t();const e=r,d=b(!1),m=()=>{R.post(route("logout"))};function n(){const a=k().url;return console.log("page",a),a.includes("/admin/departments")?"Departments":a.includes("/admin/users")&&a.includes("role=user")?"All Users":a.includes("/admin/users")&&a.includes("role=inspector")?"Inspectors":a.includes("/admin/users")&&a.includes("role=sub-admin")?"Department Admins":a.includes("/admin/users/sub-admin-types")?"Admin Types":a.includes("/admin/users/user-types")?"User Types":a.includes("/admin/users/roles")?"Roles":"Dashboard"}const f={emit:e,dropdownOpen:d,logout:m,getHeaderName:n,ref:b,get router(){return R},get usePage(){return k},get adminItems(){return S},ResponsiveNavLink:te,Icons:C};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}},se={class:"flex items-center justify-between flex-wrap bg-white h-16 px-4 sm:px-6 lg:px-8 shadow-md w-full relative overflow-visible"},re={class:"relative ml-auto"};function ae(s,t,r,e,d,m){return i(),l("header",se,[o("button",{onClick:t[0]||(t[0]=n=>s.$emit("toggleSidebar")),class:"text-gray-600 md:hidden"},[c(e.Icons,{name:"hamburger",class:"w-6 h-6 text-primary"})]),t[5]||(t[5]=o("h1",{class:"text-base sm:text-lg font-bold text-primary uppercase truncate max-w-xs sm:max-w-sm lg:max-w-md"},null,-1)),o("div",re,[o("button",{onClick:t[1]||(t[1]=n=>e.dropdownOpen=!e.dropdownOpen),class:"focus:outline-none"},[c(e.Icons,{name:"profile",class:"w-6 h-6 text-primary"})]),e.dropdownOpen?(i(),l("div",{key:0,onClick:t[2]||(t[2]=n=>e.dropdownOpen=!1),class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50"},[c(e.ResponsiveNavLink,{href:s.route("profile.show"),active:s.route().current("profile.show")},{default:g(()=>[...t[3]||(t[3]=[M(" Profile ",-1)])]),_:1},8,["href","active"]),c(e.ResponsiveNavLink,{onClick:e.logout},{default:g(()=>[...t[4]||(t[4]=[M(" Log Out ",-1)])]),_:1})])):O("",!0)])])}const ie=v(ne,[["render",ae],["__file","Header.vue"]]),le={__name:"AppLayout",setup(s,{expose:t}){t();const e={sidebarOpen:b(!1),ref:b,Sidebar:Q,Header:ie,Footer:T};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},oe={class:"flex min-h-screen bg-gray-100 overflow-hidden"},de={class:"flex flex-col flex-1 min-w-0 transition-all duration-200"},ce={class:"flex-1 overflow-y-auto overflow-x-hidden p-4 sm:p-6 lg:p-8 w-full"};function ue(s,t,r,e,d,m){return i(),l(h,null,[o("div",oe,[c(e.Sidebar,{open:e.sidebarOpen,onClose:t[0]||(t[0]=n=>e.sidebarOpen=!1)},null,8,["open"]),e.sidebarOpen?(i(),l("div",{key:0,onClick:t[1]||(t[1]=n=>e.sidebarOpen=!1),class:"fixed inset-0 z-30 bg-black/40 md:hidden"})):O("",!0),o("div",de,[c(e.Header,{onToggleSidebar:t[2]||(t[2]=n=>e.sidebarOpen=!e.sidebarOpen)}),o("main",ce,[_(s.$slots,"default")])])]),c(e.Footer)],64)}const he=v(le,[["render",ue],["__file","AppLayout.vue"]]);export{he as A,w as R};
