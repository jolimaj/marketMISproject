import{c as be,o as v,w as q,a as t,b as m,f as y,t as f,d as x,e as k,n as I,p as ve,F as Ie,r as Re,H as ye,g as S,u as xe,L as he,i as _e,B as we,j as se,l as Ce}from"./app-BanCskK_.js";import{m as ke,i as Se,j as fe,f as pe,a as Me,c as Te}from"./helper-ugt-wfEi.js";import{s as De}from"./scopeData-BsU-C9AZ.js";import{S as Ee,C as Pe,P as Fe,M as je,D as Be,d as me}from"./SingleImageUpload-DfUnUCyJ.js";import{A as Ne}from"./AppLayout-C4XkhOEP.js";import{T as Ae}from"./TextInput-Ds5jS_tB.js";import{L as Ve}from"./LoadingButton-DfFYCWyC.js";import{I as Ue}from"./InputLabel-DEGwxhMC.js";import{I as Le}from"./InputError-BURk-VOo.js";import{M as Oe}from"./MultiSelect-BtQVSqj6.js";import{C as ze}from"./ConfirmationModal-BnX2MBGg.js";import{S as Ge}from"./SecondaryButton-D4pPHRxf.js";import{_ as Je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Logo-BNihBzbJ.js";import"./Icons-DEAzJamH.js";import"./Footer-qu4Jt-lS.js";import"./Modal-D_qkctnO.js";const He={__name:"Form",props:{stallTypes:Object,stallTypesAll:Object,volanteRental:Object,requirements:Object,paymentDetails:Object,fees:Object,auth:Object,total_payments:Object},setup(R,{expose:l}){var U,L,O,z,G,J,H,X,K,Q,W,Y,Z,$;l();const h=ye(),e=S([]),ce=S([]),b=S(1),_=S(null),j=S({}),C=S(null),M=S(!1),T=S([]),p=S(!1),D=S(null),a=R,c=()=>Se(h.url),g=()=>(console.log("isReuploadPage(page.url)",fe(h.url)),fe(h.url)),s=xe({type:c()||g()?(L=(U=a==null?void 0:a.volanteRental)==null?void 0:U.permits)==null?void 0:L.permit_type:1,business_name:c()||g()?(O=a==null?void 0:a.volanteRental)==null?void 0:O.name:"",stall_id:c()||g()?(G=(z=a==null?void 0:a.volanteRental)==null?void 0:z.stalls)==null?void 0:G.id:"",requirements:[],acknowledgeContract:c()||g()?(J=a==null?void 0:a.volanteRental)==null?void 0:J.acknowledgeContract:"",reference_number:c()||g()?(X=(H=a==null?void 0:a.volanteRental)==null?void 0:H.paymentRecord)==null?void 0:X.reference_number:"",attachment_signature:[],total_payment:c()||g()?(Q=(K=a==null?void 0:a.volanteRental)==null?void 0:K.paymentRecord)==null?void 0:Q.total_payments:0,fees:c()||g()?Array.isArray((W=a==null?void 0:a.volanteRental)==null?void 0:W.fees_additional)?(Y=a==null?void 0:a.volanteRental)==null?void 0:Y.fees_additional.map(Number):[]:[],step:b,bulb:c()||g()?(Z=a==null?void 0:a.volanteRental)==null?void 0:Z.bulb:null,stall_rental_id:c()||g()?($=a==null?void 0:a.volanteRental)==null?void 0:$.id:null}),re={lesseeName:{page:0,x:160,y:530},lesseeNamePage2:{page:2,x:110,y:370},barangay:{page:0,x:320,y:520},stallNo:{page:0,x:300,y:440},day:{page:2,x:120,y:300},month:{page:2,x:500,y:310},signature:{page:2,x:450,y:200,w:100,h:50}},ne=he(()=>{var o,i;return((i=(o=a.auth)==null?void 0:o.user)==null?void 0:i.first_name.split(" ")).map(r=>r[0]).join("")}),B=()=>{var n,o,i;s.requirements=c()?(n=a==null?void 0:a.volanteRental)==null?void 0:n.requirements.map(r=>({requirement_checklist_id:r.checklist_id,attachment:r.attachment})):e.value.map(r=>({requirement_checklist_id:r.documentType,attachment:r.file})),s.attachment_signature=C.value,s.total_payment=(o=a==null?void 0:a.total_payments)==null?void 0:o.total,s.acknowledgeContract=!0,s.fees_additional=s.fees,p.value=!0,(i=D.value)==null||i.fillContract(),p.value&&s.post(route("applications.volantes.store"),{preserveScroll:!0,onSuccess:async()=>{se.visit(route("applications.volantes.index"),{preserveScroll:!0,preserveState:!1})},onError:r=>{console.error("Form errors:",r)}})},oe=async()=>{var o;if(e.value.some(i=>i.status==="uploading")){s.errors.requirements="Please wait until all files are uploaded.";return}if(e.value.length===0){s.errors.requirements="The requirements are required.";return}const n=new FormData;n.append("_method","PUT"),n.append("stall_id",s.stall_id||""),n.append("business_name",s.business_name||""),n.append("type",2),n.append("bulb",s.bulb||""),n.append("total_payment",s.total_payment||""),n.append("acknowledgeContract",s.acknowledgeContract?1:0),e.value.forEach((i,r)=>{n.append(`requirements[${r}][requirement_checklist_id]`,i.documentType),i.file instanceof File&&n.append(`requirements[${r}][attachment]`,i.file)}),s.attachment_signature instanceof File&&n.append("attachment_signature",s.attachment_signature),me.Inertia.post(route("applications.volantes.update",(o=a==null?void 0:a.volanteRental)==null?void 0:o.id),n,{preserveScroll:!0,onStart:()=>{p.value=!0},onSuccess:()=>{p.value=!1,se.visit(route("applications.volantes.index"),{preserveScroll:!0,preserveState:!1})},onError:i=>{p.value=!1,console.error("Form errors:",i)}})},N=()=>{var n,o,i;if(g()){if(e.value.some(u=>u.status==="uploading")){s.errors.requirements="Please wait until all files are uploaded.";return}if(e.value.length===0){s.errors.requirements="The requirements are required.";return}const r=new FormData;r.append("_method","PUT"),r.append("stall_id",s.stall_id||""),r.append("business_name",s.business_name||""),r.append("type",s.type||1),r.append("bulb",s.bulb||0),r.append("total_payment",s.total_payment||""),r.append("acknowledgeContract",s.acknowledgeContract?1:0),e.value.forEach((u,w)=>{r.append(`requirements[${w}][requirement_checklist_id]`,u.documentType),u.file instanceof File&&r.append(`requirements[${w}][attachment]`,u.file)}),s.attachment_signature instanceof File&&r.append("attachment_signature",s.attachment_signature),me.Inertia.post(route("applications.volantes.update",(n=a==null?void 0:a.volanteRental)==null?void 0:n.id),r,{preserveScroll:!0,onStart:()=>{p.value=!0},onSuccess:()=>{p.value=!1,se.visit(route("applications.volantes.index"),{preserveScroll:!0,preserveState:!1})},onError:u=>{p.value=!1,console.error("Form errors:",u)}})}else{const r=new FormData;if(r.append("_method","PUT"),E(s.fees)&&s.bulb<0&&(s.errors.bulb="Please input number of bulbs."),r.append("stall_id",s.stall_id||""),r.append("business_name",s.business_name||""),r.append("type",s.type||""),r.append("bulb",s.bulb||0),r.append("total_payment",((o=a==null?void 0:a.total_payments)==null?void 0:o.total)||0),r.append("acknowledgeContract",s.acknowledgeContract?1:0),checkIfRenewal()){if(r.append("type",2),e.value.some(u=>u.status==="uploading")){s.errors.requirements="Please wait until all files are uploaded.";return}if(e.value.length===0){s.errors.requirements="The requirements are required.";return}e.value.forEach((u,w)=>{r.append(`requirements[${w}][requirement_checklist_id]`,u.documentType),u.file instanceof File&&r.append(`requirements[${w}][attachment]`,u.file)})}s.attachment_signature instanceof File&&r.append("attachment_signature",s.attachment_signature),me.Inertia.post(route("applications.volantes.update",(i=a==null?void 0:a.volanteRental)==null?void 0:i.id),r,{preserveScroll:!0,onStart:()=>{p.value=!0},onSuccess:()=>{var u;p.value=!1,(u=D.value)==null||u.fillContract(),se.visit(route("applications.volantes.index"),{preserveScroll:!0,preserveState:!1})},onError:u=>{p.value=!1,console.error("Form errors:",u)}})}},ie=()=>{const n=c()||g();return console.log(n),n?N():B()},de=()=>{var n,o,i,r,u,w,ee,te;if(b.value===1)E(s.fees)&&s.bulb<0&&(s.errors.bulb="Please input number of bulbs."),c()?b.value++:s.post(route("applications.volantes.store"),{preserveState:!0,onSuccess:()=>{b.value++}});else if(b.value===2)if(c())b.value++;else{const ae=((o=(n=a==null?void 0:a.requirements)==null?void 0:n.volante_new)==null?void 0:o.length)||0,P=e.value.filter(F=>F.status==="uploaded").length,le=e.value.some(F=>F.status==="uploading");console.log("Required:",ae,"Uploaded:",P,"Uploading:",le),le?s.errors.requirements="Please wait until all files are uploaded.":P<ae?s.errors.requirements="Please upload all required documents.":P===0?s.errors.requirements="The requirements are required.":(s.errors.requirements=null,b.value++)}else b.value===3?(c()||(ce.value=C.value),b.value++):b.value===4&&(s.step=b.value,j.value={lesseeName:pe((i=a==null?void 0:a.auth)==null?void 0:i.user),lesseeNamePage2:pe((r=a==null?void 0:a.auth)==null?void 0:r.user),barangay:(w=(u=a==null?void 0:a.auth)==null?void 0:u.user)==null?void 0:w.address,stallNo:(ee=_==null?void 0:_.value)!=null&&ee.name?(te=_==null?void 0:_.value)==null?void 0:te.name:"",signature:C.value,day:new Date().getDate(),month:new Date().getMonth()+1},M.value=!0)},A=n=>{var i;console.log("Selected Stall:",n);const o=a.stallTypesAll.filter(r=>r.name===(n==null?void 0:n.Stall)||r.name===(n==null?void 0:n.name));console.log("val=",o),_.value=o[0],s.stall_id=(i=o[0])==null?void 0:i.id},ue=()=>{M.value=!1},E=n=>{const o=n.find(i=>i===3);return console.log((o==null?void 0:o.length)>0,o),!o};T.value=a.stallsData||[],_e(()=>a.stallTypes,n=>{T.value=ke(n)||[]},{deep:!0,immediate:!0}),we(()=>{var n;c()&&A((n=a==null?void 0:a.volanteRental)==null?void 0:n.stalls)});const V={page:h,localFileReq:e,localFileSignature:ce,step:b,selectedStall:_,contractData:j,signature:C,isSubmit:M,stallData:T,isGenerating:p,contractRef:D,props:a,checkIfEdit:c,checkIfReupload:g,form:s,fieldMap:re,initials:ne,submit:B,renewals:oe,update:N,stores:ie,nextButton:de,onStallSelect:A,closeSubmit:ue,handleBulb:E,ref:S,watch:_e,computed:he,onMounted:we,get Link(){return Ce},get usePage(){return ye},get useForm(){return xe},get router(){return se},get formatAmount(){return Te},get formatDateShort(){return Me},get fullName(){return pe},get isEditPage(){return Se},get isReuploadPage(){return fe},get mapTablesToGeoJSON(){return ke},get scopeData(){return De},get Inertia(){return me.Inertia},AppLayout:Ne,TextInput:Ae,LoadingButton:Ve,InputLabel:Ue,InputError:Le,DocumentUpload:Be,Map:je,PdfMonitor:Fe,Contract:Pe,SingleImageUpload:Ee,MultiSelect:Oe,ConfirmationModal:ze,SecondaryButton:Ge};return Object.defineProperty(V,"__isScriptSetup",{enumerable:!1,value:!0}),V}},Xe={class:"mb-8 text-3xl font-bold"},Ke={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Qe={class:"max-w-3xl bg-white rounded-md shadow overflow-hidden"},We={key:0,class:"flex items-center justify-between mt-6"},Ye={class:"flex flex-col items-center text-center w-1/3"},Ze={class:"flex flex-col items-center text-center w-1/3"},$e={class:"flex flex-col items-center text-center w-1/3"},et={class:"flex flex-col items-center text-center w-1/3"},tt={key:0,class:"p-6 space-y-6"},at={class:"flex flex-col md:flex-row gap-4 px-5"},lt={class:"w-full md:w-full"},st={class:"flex flex-col md:flex-row gap-4 px-5"},rt={class:"w-full md:w-full"},nt={class:"flex flex-col md:flex-row gap-4 px-5"},ot={class:"w-full md:w-full"},it={class:"px-5"},dt={class:"w-full border p-4 rounded bg-gray-50"},ut={class:"relative w-full h-[400px] rounded overflow-hidden"},mt={key:0,class:"flex flex-col md:flex-row gap-4 px-5"},ct={class:"w-full md:w-full"},ft={class:"border p-4 rounded bg-gray-50"},pt={key:1,class:"p-6 space-y-6"},gt={key:2},bt={key:0,class:"p-6 space-y-6"},vt={key:1,class:"p-6 space-y-6"},yt={class:"flex gap-6"},xt={class:"flex flex-col items-center"},ht={class:"w-16 h-16 rounded-full bg-primary text-white flex items-center justify-center font-bold text-lg"},_t={class:"mt-2 text-xs px-2 py-0.5 rounded bg-green-100 text-green-600 font-medium"},wt={class:"flex-1"},kt={class:"text-lg font-semibold text-primary"},St={class:"text-sm text-gray-600"},qt=["href"],It={class:"text-sm text-gray-600"},Rt={class:"grid grid-cols-2 gap-4 text-sm text-gray-700"},Ct={class:"text-gray-600"},Mt={class:"text-gray-600"},Tt={class:"text-gray-600"},Dt={class:"text-gray-600"},Et={class:"text-gray-600"},Pt={class:"bg-gray-50 rounded-lg p-4 space-y-2 text-sm"},Ft={class:"space-y-2"},jt={class:"flex items-center space-x-2"},Bt={class:"text-secondary"},Nt={class:"text-gray-600"},At={class:"font-bold text-gray-600"},Vt={class:"text-green-600 font-semibold"},Ut={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"},Lt={class:"ml-auto flex gap-2"},Ot={key:0},zt={class:"flex justify-end space-x-3 p-4"};function Gt(R,l,h,e,ce,b){return v(),be(e.AppLayout,{title:"Stall Types"},{header:q(()=>[...l[8]||(l[8]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Stall Types ",-1)])]),default:q(()=>{var _,j,C,M,T,p,D,a,c,g,s,re,ne,B,oe,N,ie,de,A,ue,E,V,U,L,O,z,G,J,H,X,K,Q,W,Y,Z,$,n,o,i,r,u,w,ee,te,ae,P,le,F,ge;return[t("h1",Xe,[m(e.Link,{class:"text-primary hover:text-secondary",href:"/my-rentals/market-volante"},{default:q(()=>[...l[9]||(l[9]=[y("Market Volante",-1)])]),_:1}),l[10]||(l[10]=t("span",{class:"text-secondary font-medium"},"/",-1)),y(" "+f(e.checkIfEdit()||e.checkIfReupload()?`${(j=(_=e.props)==null?void 0:_.volanteRental)==null?void 0:j.name}`:"Create New"),1)]),t("div",Ke,[t("div",Qe,[!e.checkIfEdit()&&!e.checkIfReupload()?(v(),x("div",We,[t("div",Ye,[t("div",{class:I(["flex items-center justify-center w-12 h-12 rounded-full border-2",e.step===1?"bg-primary text-white border-primary":"border-gray-300 text-gray-400"])},[...l[11]||(l[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A7.968 7.968 0 0112 15c1.933 0 3.683.69 5.121 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])],2),t("span",{class:I(["mt-2 text-sm",e.step===1?"text-primary font-semibold":"text-gray-400"])},"Vendor Info",2)]),t("div",{class:I(["flex-1 border-t-2 mx-2",e.step>1?"border-primary":"border-gray-200"])},null,2),t("div",Ze,[t("div",{class:I(["flex items-center justify-center w-12 h-12 rounded-full border-2",e.step===2?"bg-primary text-white border-primary":"border-gray-300 text-gray-400"])},[...l[12]||(l[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h10M7 11h10M7 15h6M5 5v14h14V5H5z"})],-1)])],2),t("span",{class:I(["mt-2 text-sm",e.step===2?"text-primary font-semibold":"text-gray-400"])},"Requirements",2)]),t("div",{class:I(["flex-1 border-t-2 mx-2",e.step>2?"border-primary":"border-gray-200"])},null,2),t("div",$e,[t("div",{class:I(["flex items-center justify-center w-12 h-12 rounded-full border-2",e.step===3?"bg-primary text-white border-primary":"border-gray-300 text-gray-400"])},[...l[13]||(l[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"32",height:"32"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01M21 21l-6-6"})],-1)])],2),t("span",{class:I(["mt-2 text-sm",e.step===3?"text-primary font-semibold":"text-gray-400"])},"Rental Agreement",2)]),t("div",et,[t("div",{class:I(["flex items-center justify-center w-12 h-12 rounded-full border-2",e.step===4?"bg-primary text-white border-primary":"border-gray-300 text-gray-400"])},[...l[14]||(l[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"32",height:"32"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M4 6h16M4 12h16M4 18h16"})],-1)])],2),t("span",{class:I(["mt-2 text-sm",e.step===4?"text-primary font-semibold":"text-gray-400"])},"Finish Application",2)])])):k("",!0),t("form",{onSubmit:l[7]||(l[7]=ve(d=>e.checkIfEdit()||e.checkIfReupload()?e.update():e.nextButton(),["prevent"]))},[!e.checkIfReupload()&&(e.step===1||e.checkIfEdit())?(v(),x("div",tt,[t("div",at,[t("div",lt,[m(e.InputLabel,{for:"Business Name",value:"Business Name"}),m(e.TextInput,{id:"business_name",modelValue:e.form.business_name,"onUpdate:modelValue":l[0]||(l[0]=d=>e.form.business_name=d),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"business_name"},null,8,["modelValue"]),m(e.InputError,{class:"mt-2",message:(M=(C=e.form)==null?void 0:C.errors)==null?void 0:M.business_name},null,8,["message"])])]),t("div",st,[t("div",rt,[m(e.InputLabel,{for:"Add ons",value:"Add ons"}),m(e.MultiSelect,{modelValue:e.form.fees,"onUpdate:modelValue":l[1]||(l[1]=d=>e.form.fees=d),options:h.fees},null,8,["modelValue","options"]),m(e.InputError,{class:"mt-2",message:(p=(T=e.form)==null?void 0:T.errors)==null?void 0:p.fees},null,8,["message"])])]),t("div",nt,[t("div",ot,[m(e.InputLabel,{for:"Add ons",value:"Bulbs"}),m(e.TextInput,{id:"bulbs",modelValue:e.form.bulb,"onUpdate:modelValue":l[2]||(l[2]=d=>e.form.bulb=d),type:"number",disabled:e.handleBulb(e.form.fees),class:"mt-1 block w-full",autofocus:"",autocomplete:"bulbs"},null,8,["modelValue","disabled"]),m(e.InputError,{class:"mt-2",message:(a=(D=e.form)==null?void 0:D.errors)==null?void 0:a.bulb},null,8,["message"])])]),t("div",it,[t("div",dt,[t("div",ut,[m(e.Map,{"stalls-data":e.mapTablesToGeoJSON(h.stallTypes),"scope-data":e.scopeData,center:[13.965601,121.527501],zoom:20,height:"500px",disabled:e.checkIfEdit(),onStallClick:e.onStallSelect},null,8,["stalls-data","scope-data","disabled"])]),m(e.InputError,{class:"mt-2",message:(g=(c=e.form)==null?void 0:c.errors)==null?void 0:g.stall_id},null,8,["message"])])]),e.selectedStall?(v(),x("div",mt,[t("div",ct,[t("div",ft,[l[18]||(l[18]=t("h2",{class:"text-lg font-bold mb-2 text-secondary"},"Transient Details",-1)),t("p",null,[l[15]||(l[15]=t("strong",null,"Name:",-1)),y(" "+f((s=e.selectedStall)==null?void 0:s.name),1)]),t("p",null,[l[16]||(l[16]=t("strong",null,"Category:",-1)),y(" "+f((ne=(re=e.selectedStall)==null?void 0:re.categories)==null?void 0:ne.name),1)]),t("p",null,[l[17]||(l[17]=t("strong",null,"Description:",-1)),y(" "+f((oe=(B=e.selectedStall)==null?void 0:B.categories)==null?void 0:oe.description),1)])])])])):k("",!0)])):k("",!0),e.step===2||e.checkIfReupload()?(v(),x("div",pt,[m(e.DocumentUpload,{requiredDocs:(N=h.requirements)==null?void 0:N.volante_new,files:e.localFileReq,"onUpdate:files":l[3]||(l[3]=d=>e.localFileReq=d)},null,8,["requiredDocs","files"]),m(e.InputError,{class:"mt-2",message:e.form.errors.requirements},null,8,["message"])])):k("",!0),!e.checkIfEdit()&&!e.checkIfReupload()?(v(),x("div",gt,[e.step===3?(v(),x("div",bt,[l[19]||(l[19]=t("h2",{class:"text-lg font-bold text-secondary mb-2"}," Please review the rental agreement below and upload signature: ",-1)),m(e.PdfMonitor,{pdfUrl:"/sample.pdf"}),m(e.SingleImageUpload,{modelValue:e.signature,"onUpdate:modelValue":l[4]||(l[4]=d=>e.signature=d),width:120,height:60,files:e.localFileSignature,"onUpdate:files":l[5]||(l[5]=d=>e.localFileSignature=d)},null,8,["modelValue","files"])])):k("",!0),e.step===4?(v(),x("div",vt,[l[25]||(l[25]=t("h2",{class:"text-lg font-bold text-secondary mb-2"}," Summary: ",-1)),l[26]||(l[26]=t("div",{class:"flex items-center justify-between"},null,-1)),t("div",yt,[t("div",xt,[t("div",ht,f(e.initials),1),t("span",_t,f((ue=(A=(de=(ie=R.$page)==null?void 0:ie.props)==null?void 0:de.auth)==null?void 0:A.user)!=null&&ue.status?"Active":"Not Active"),1)]),t("div",wt,[t("h2",kt,f(e.fullName((U=(V=(E=R.$page)==null?void 0:E.props)==null?void 0:V.auth)==null?void 0:U.user)),1),t("p",St,[l[20]||(l[20]=y(" Email: ",-1)),t("a",{href:"mailto:"+((G=(z=(O=(L=R.$page)==null?void 0:L.props)==null?void 0:O.auth)==null?void 0:z.user)==null?void 0:G.email),class:"text-blue-600 hover:underline"},f((X=(H=(J=R.$page)==null?void 0:J.props)==null?void 0:H.auth)==null?void 0:X.user.email),9,qt)]),t("p",It,"Mobile: "+f((W=(Q=(K=R.$page)==null?void 0:K.props)==null?void 0:Q.auth)==null?void 0:W.user.mobile),1)])]),t("div",Rt,[t("div",null,[l[21]||(l[21]=t("h3",{class:"font-semibold text-secondary"},"Stall Details",-1)),t("p",Ct,"Slot Name: "+f((Y=e.selectedStall)==null?void 0:Y.name),1),t("p",Mt,"Size: "+f((Z=e.selectedStall)!=null&&Z.size?`${(n=($=e.selectedStall)==null?void 0:$.size)==null?void 0:n.length}X${(i=(o=e.selectedStall)==null?void 0:o.size)==null?void 0:i.width} `:"-"),1),t("p",Tt,"Birthday: "+f(e.formatDateShort((w=(u=(r=R.$page)==null?void 0:r.props)==null?void 0:u.auth)==null?void 0:w.user.birthday)),1),t("p",Dt,"Address: "+f((ae=(te=(ee=R.$page)==null?void 0:ee.props)==null?void 0:te.auth)==null?void 0:ae.user.address),1)]),t("div",null,[l[22]||(l[22]=t("h3",{class:"font-semibold text-secondary"},"Category",-1)),t("p",Et,f((P=e.selectedStall)==null?void 0:P.categories.name),1)])]),t("div",Pt,[l[24]||(l[24]=t("h3",{class:"font-semibold text-secondary"},"Payment Details",-1)),t("ul",Ft,[(v(!0),x(Ie,null,Re((le=h.total_payments)==null?void 0:le.breakdown,(d,qe)=>(v(),x("li",{key:qe,class:"flex justify-between items-center px-3 py-2 text-sm"},[t("div",jt,[t("span",null,[t("strong",Bt,f(d!=null&&d.size?`• ${d==null?void 0:d.type}(${d.size}): `:`• ${d==null?void 0:d.type}: `),1),t("span",Nt,f(e.formatAmount(d==null?void 0:d.amount)),1)])])]))),128))]),t("p",At,[l[23]||(l[23]=y(" Calculated Monthly Payment: ",-1)),t("span",Vt,f(e.formatAmount((F=h.total_payments)==null?void 0:F.total)),1)])])])):k("",!0)])):k("",!0),t("div",Ut,[m(e.Link,{href:e.checkIfEdit()?`/my-rentals/market-volante/${(ge=h.volanteRental)==null?void 0:ge.id}`:"/my-rentals/market-volante",class:"text-red-600 hover:underline",tabindex:"-1"},{default:q(()=>[...l[27]||(l[27]=[y("Cancel",-1)])]),_:1},8,["href"]),t("div",Lt,[!e.checkIfEdit()&&!e.checkIfReupload()?(v(),x("div",Ot,[e.step>1?(v(),x("button",{key:0,type:"button",class:"px-4 py-2 mr-2 rounded-md bg-gray-200 hover:bg-gray-300",onClick:l[6]||(l[6]=d=>e.step--)}," Back ")):k("",!0),e.step<4?(v(),x("button",{key:1,type:"button",class:"px-4 py-2 rounded-md bg-primary text-white hover:bg-secondary",onClick:e.nextButton},f(e.step===3?"Agree":"Next"),1)):k("",!0)])):k("",!0),e.step===4||e.checkIfEdit()||e.checkIfReupload()?(v(),be(e.LoadingButton,{key:1,loading:e.form.processing,class:"bg-primary ml-auto",type:"submit"},{default:q(()=>[...l[28]||(l[28]=[y(" Submit ",-1)])]),_:1},8,["loading"])):k("",!0)])])],32)])]),m(e.ConfirmationModal,{show:e.isSubmit,onClose:e.closeSubmit},{title:q(()=>[...l[29]||(l[29]=[y(" Confirm ",-1)])]),content:q(()=>[...l[30]||(l[30]=[t("div",{class:"space-y-4 p-4"},[t("p",{class:"text-gray-700 text-sm md:text-base"}," Do you confirm your intention to submit this request? Please submit the duly accomplished agreement form, downloaded after this process, to the Office of Public Market. ")],-1)])]),footer:q(()=>[t("div",zt,[m(e.SecondaryButton,{onClick:e.closeSubmit},{default:q(()=>[...l[31]||(l[31]=[y(" Cancel ",-1)])]),_:1}),t("form",{onSubmit:ve(e.stores,["prevent"])},[m(e.LoadingButton,{class:"bg-green-600 text-white ml-2 px-4 py-2 rounded-md text-white hover:bg-green-700",onClick:e.submit,disabled:e.isGenerating},{default:q(()=>[...l[32]||(l[32]=[y(" Submit ",-1)])]),_:1},8,["disabled"]),m(e.Contract,{ref:"contractRef",src:"/sample.pdf",data:e.contractData,"field-map":e.fieldMap,"file-name":"contract-filled.pdf",signature:e.signature,class:"hidden"},null,8,["data","signature"])],32)])]),_:1},8,["show"])]}),_:1})}const ia=Je(He,[["render",Gt],["__file","Form.vue"]]);export{ia as default};
