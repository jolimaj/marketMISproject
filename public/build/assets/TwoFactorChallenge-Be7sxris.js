import{d as t,o as a,b as o,w as f,a as i,F as n,f as c,l as v,n as b,g as d,x as _,C as g,G as x}from"./app-BkL1CNwx.js";import{A as C}from"./AuthenticationCard-se_-U5BS.js";import{A as I}from"./AuthenticationCardLogo-DslSZ-MF.js";import{I as h}from"./InputError-DDM46-4k.js";import{I as k}from"./InputLabel-C9urSnAe.js";import{P as w}from"./PrimaryButton-CoKKccXD.js";import{T}from"./TextInput-duXXTKs6.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={__name:"TwoFactorChallenge",setup(p,{expose:r}){r();const l=d(!1),e=_({code:"",recovery_code:""}),m=d(null),u=d(null),y={recovery:l,form:e,recoveryCodeInput:m,codeInput:u,toggleRecovery:async()=>{l.value^=!0,await g(),l.value?(m.value.focus(),e.code=""):(u.value.focus(),e.recovery_code="")},submit:()=>{e.post(route("two-factor.login"))},nextTick:g,ref:d,get Head(){return x},get useForm(){return _},AuthenticationCard:C,AuthenticationCardLogo:I,InputError:h,InputLabel:k,PrimaryButton:w,TextInput:T};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},F={class:"mb-4 text-sm text-gray-600"},L={key:0},P={key:1},B={class:"flex items-center justify-end mt-4"};function E(p,r,l,e,m,u){return a(),t(n,null,[o(e.Head,{title:"Two-factor Confirmation"}),o(e.AuthenticationCard,null,{logo:f(()=>[o(e.AuthenticationCardLogo)]),default:f(()=>[i("div",F,[e.recovery?(a(),t(n,{key:1},[c(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(a(),t(n,{key:0},[c(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))]),i("form",{onSubmit:v(e.submit,["prevent"])},[e.recovery?(a(),t("div",P,[o(e.InputLabel,{for:"recovery_code",value:"Recovery Code"}),o(e.TextInput,{id:"recovery_code",ref:"recoveryCodeInput",modelValue:e.form.recovery_code,"onUpdate:modelValue":r[1]||(r[1]=s=>e.form.recovery_code=s),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"]),o(e.InputError,{class:"mt-2",message:e.form.errors.recovery_code},null,8,["message"])])):(a(),t("div",L,[o(e.InputLabel,{for:"code",value:"Code"}),o(e.TextInput,{id:"code",ref:"codeInput",modelValue:e.form.code,"onUpdate:modelValue":r[0]||(r[0]=s=>e.form.code=s),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"]),o(e.InputError,{class:"mt-2",message:e.form.errors.code},null,8,["message"])])),i("div",B,[i("button",{type:"button",class:"text-sm text-gray-600 hover:text-gray-900 underline cursor-pointer",onClick:v(e.toggleRecovery,["prevent"])},[e.recovery?(a(),t(n,{key:1},[c(" Use an authentication code ")],64)):(a(),t(n,{key:0},[c(" Use a recovery code ")],64))]),o(e.PrimaryButton,{class:b(["ms-4",{"opacity-25":e.form.processing}]),disabled:e.form.processing},{default:f(()=>[...r[2]||(r[2]=[c(" Log in ",-1)])]),_:1},8,["class","disabled"])])],32)]),_:1})],64)}const O=V(A,[["render",E],["__file","TwoFactorChallenge.vue"]]);export{O as default};
