import{c as g,o as d,w as l,a as e,b as o,n as z,f as k,d as u,e as S,F as N,r as j,t as p,h as b,i as w,Q as B,S as L}from"./app-uXddmEpz.js";import{l as _,p as v}from"./pickBy-Cz0_Eu6Y.js";import{A as D}from"./AppLayout-Br8Pf_X-.js";import{B as P}from"./BaseTable-BlSLnjYp.js";import{P as V}from"./Pagination-CeXYWUig.js";import{I as A}from"./Icons-C3pYYq2K.js";import{a as C}from"./helper-BoB9zCoy.js";import{B as I}from"./Badge-DyQTjnI6.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Logo-C5gnPx-H.js";import"./Footer-Xx_KaGDa.js";const O={__name:"StallRental",props:{stallRentals:Object,filters:Object},setup(x,{expose:s}){var c;s();const i=["Business Name","Stall Name","Category","Desired Start Date","Status","",""],t=x,m=b({search:(c=t==null?void 0:t.filters)==null?void 0:c.search});w(m,_.throttle(()=>{B.get("/admin/applications/stalls",v(m),{preserveState:!0})},150),{deep:!0});const n={headers:i,props:t,form:m,status:f=>{let r={};switch(f){case 3:r={color:"orange",status:"Expired"};break;case 3:r={color:"red",status:"Rejected"};break;case 1:r={color:"green",status:"Approved"};break;default:r={color:"blue",status:"Pending"}}return r},watch:w,reactive:b,get Link(){return L},get router(){return B},get throttle(){return _.throttle},get mapValues(){return _.mapValues},get pickBy(){return v},AppLayout:D,BaseTable:P,Pagination:V,Icon:A,get formatDate(){return C},Badge:I};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"flex items-center justify-end mb-6 md:justify-self-center w-full"},Q={class:"px-4 py-3 capitalize"},q={class:"px-4 py-3 capitalize"},G={class:"px-4 py-3 capitalize"},H={class:"px-4 py-3 capitalize"},J={class:"px-4 py-3 capitalize"},K={class:"px-4 py-3 capitalize"},M={class:"px-4 py-3 capitalize"},U={key:0},W={class:"mt-6 flex justify-center"};function X(x,s,i,t,m,R){return d(),g(t.AppLayout,{title:"Stalls"},{header:l(()=>s[0]||(s[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Stall ",-1)])),default:l(()=>{var n,c;return[s[3]||(s[3]=e("h1",{class:"mb-8 text-3xl font-bold text-primary"},"Stall Rentals",-1)),e("div",T,[e("div",F,[o(t.Link,{type:"submit",class:z([{"opacity-25":t.form.processing},"bg-btn-gradient text-white font-bold uppercase px-5 py-2 rounded focus:outline-none shadow hover:bg-primary-700 transition-colors"]),disabled:t.form.processing,href:"/my-applications/stall-rental-permits/create"},{default:l(()=>s[1]||(s[1]=[k("Apply for New Permit")])),_:1,__:[1]},8,["class","disabled"])]),o(t.BaseTable,{headers:t.headers,data:(n=i.stallRentals)==null?void 0:n.data},{row:l(({data:f})=>{var r;return[(d(!0),u(N,null,j(f,(a,Y)=>{var h,y;return d(),u("tr",{key:i.stallRentals.id,class:"hover:bg-gray-50"},[e("td",Q,p(a.name),1),e("td",q,p(a.stalls.name),1),e("td",G,p((y=(h=a.stalls)==null?void 0:h.stallsCategories)==null?void 0:y.name),1),e("td",H,p(a!=null&&a.start_date?`${t.formatDate(a.start_date)}`:"-"),1),e("td",J,[o(t.Badge,{color:t.status(a.permits.status).color},{default:l(()=>[k(p(t.status(a.permits.status).status),1)]),_:2},1032,["color"])]),e("td",K,[a.status===1?(d(),g(t.Link,{key:0,class:"flex items-center px-4",href:`/my-applications/stall-rental-permits/${a.id}/edit`,tabindex:"-1"},{default:l(()=>[o(t.Icon,{name:"download",class:"block w-6 h-6 fill-primary"})]),_:2},1032,["href"])):S("",!0)]),e("td",M,[o(t.Link,{class:"flex items-center pr-2",href:`/my-applications/stall-rental-permits/${a.id}/edit`,tabindex:"-1"},{default:l(()=>[o(t.Icon,{name:"cheveron-right",class:"block w-6 h-6 fill-primary"})]),_:2},1032,["href"])])])}),128)),((r=i.stallRentals)==null?void 0:r.total)===0?(d(),u("tr",U,s[2]||(s[2]=[e("td",{class:"px-6 py-4 border-t text-center",colspan:"7"},"No records found.",-1)]))):S("",!0)]}),_:1},8,["data"])]),e("div",W,[o(t.Pagination,{links:(c=i.stallRentals)==null?void 0:c.links},null,8,["links"])])]}),_:1,__:[3]})}const ct=E(O,[["render",X],["__file","StallRental.vue"]]);export{ct as default};
