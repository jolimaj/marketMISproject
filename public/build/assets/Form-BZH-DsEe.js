import{d as f,o as u,a as r,F as w,r as I,t as _,f as g,c as L,w as p,b as i,l as E,k as T,m as N,E as C,x as k,i as F,S as P}from"./app-uXddmEpz.js";import{i as S}from"./helper-BoB9zCoy.js";import{A}from"./AppLayout-Br8Pf_X-.js";import{T as B}from"./TextInput-CHlK30DQ.js";import{L as M}from"./LoadingButton-BLKfR7Zt.js";import{I as O}from"./InputLabel-D_8-PT0K.js";import{I as j}from"./InputError-ttZ3AOSc.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Logo-C5gnPx-H.js";import"./Icons-C3pYYq2K.js";import"./Footer-Xx_KaGDa.js";const D={name:"MultiSelect",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]}},computed:{selectedItems(){return this.options.filter(l=>this.modelValue.includes(l.id))}},methods:{onSelect(l){const t=Array.from(l.target.selectedOptions).map(o=>parseInt(o.value));this.$emit("update:modelValue",t)},removeItem(l){const t=this.modelValue.filter(o=>o!==l);this.$emit("update:modelValue",t)},formatCurrency(l){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l)}}},q={class:"w-full"},H=["value","selected"],U={class:"flex flex-wrap gap-2 mt-3"},z=["onClick"];function G(l,t,o,e,n,a){return u(),f("div",q,[r("select",{multiple:"",class:"border rounded p-2 w-full",onChange:t[0]||(t[0]=s=>a.onSelect(s))},[(u(!0),f(w,null,I(o.options,s=>(u(),f("option",{key:s.id,value:s.id,selected:o.modelValue.includes(s.id)},_(s.type)+": "+_(a.formatCurrency(s.amount)),9,H))),128))],32),r("div",U,[(u(!0),f(w,null,I(a.selectedItems,s=>(u(),f("span",{key:s.id,class:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center gap-2"},[g(_(s.type)+": "+_(a.formatCurrency(s.amount))+" ",1),r("button",{onClick:d=>a.removeItem(s.id),class:"text-red-500 hover:text-red-700"}," âœ• ",8,z)]))),128))])])}const J=V(D,[["render",G],["__file","MultiSelect.vue"]]),K={__name:"Form",props:{stallsCategories:Object,feeMasterlists:Object},setup(l,{expose:t}){var m,b,v,h;t();const o=C(),e=l,n=()=>S(o.url),a=k({name:n()?(m=e==null?void 0:e.stallsCategories)==null?void 0:m.name:"",description:n()?(b=e==null?void 0:e.stallsCategories)==null?void 0:b.description:"",fee_masterlist_ids:n()?(v=e==null?void 0:e.stallsCategories)==null?void 0:v.fee_masterlist_ids:[],is_transient:n()?(h=e==null?void 0:e.stallsCategories)==null?void 0:h.is_transient:""}),s=()=>{a.post(route("admin.stall.type.store"))},d=()=>{var y;delete a.email,a.put(route("admin.stall.type.update",(y=e==null?void 0:e.stallsCategories)==null?void 0:y.id))},c={page:o,props:e,checkIfEdit:n,form:a,submit:s,update:d,stores:()=>n()?d():s(),watch:F,get Link(){return P},get usePage(){return C},get useForm(){return k},get isEditPage(){return S},AppLayout:A,TextInput:B,LoadingButton:M,InputLabel:O,InputError:j,MultiTagSelect:J};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}},Q={class:"mb-8 text-3xl font-bold"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"max-w-3xl bg-white rounded-md shadow overflow-hidden"},X={class:"flex flex-col md:flex-row gap-4 p-5"},Y={class:"w-full md:w-full"},Z={class:"mt-4 flex flex-col md:flex-row gap-4 px-5"},$={class:"w-full md:w-full"},ee={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"};function te(l,t,o,e,n,a){return u(),L(e.AppLayout,{title:"Stall Types"},{header:p(()=>t[2]||(t[2]=[r("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Stall Types ",-1)])),default:p(()=>{var s,d,x,c;return[r("h1",Q,[i(e.Link,{class:"text-primary hover:text-secondary",href:"/admin/system-setting/stall-types"},{default:p(()=>t[3]||(t[3]=[g("Stall Types")])),_:1,__:[3]}),t[4]||(t[4]=r("span",{class:"text-secondary font-medium"},"/",-1)),g(" "+_(e.checkIfEdit()?`${(d=(s=e.props)==null?void 0:s.stallsCategories)==null?void 0:d.name}`:"Create New"),1)]),r("div",R,[r("div",W,[r("form",{onSubmit:E(e.stores,["prevent"])},[r("div",X,[r("div",Y,[i(e.InputLabel,{for:"Name",value:"Name"}),i(e.TextInput,{id:"Name",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=m=>e.form.name=m),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),i(e.InputError,{class:"mt-2",message:(c=(x=e.form)==null?void 0:x.errors)==null?void 0:c.name},null,8,["message"])])]),r("div",Z,[r("div",$,[i(e.InputLabel,{for:"description",value:"Description"}),T(r("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=m=>e.form.description=m),type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:"",autocomplete:"address"},null,512),[[N,e.form.description]]),i(e.InputError,{class:"mt-2",message:e.form.errors.description},null,8,["message"])])]),r("div",ee,[i(e.Link,{href:"/admin/system-setting/stall-types",class:"text-red-600 hover:underline",tabindex:"-1"},{default:p(()=>t[5]||(t[5]=[g("Cancel")])),_:1,__:[5]}),i(e.LoadingButton,{loading:e.form.processing,class:"bg-primary ml-auto",type:"submit"},{default:p(()=>t[6]||(t[6]=[g("Save")])),_:1,__:[6]},8,["loading"])])],32)])])]}),_:1})}const fe=V(K,[["render",te],["__file","Form.vue"]]);export{fe as default};
