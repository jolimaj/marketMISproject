import{c as j,o as s,w as n,a as l,b as r,f as p,t as u,p as M,d as i,e as G,F as q,r as F,H as T,u as A,l as H}from"./app-C8gNLm2U.js";import{a as O,i as C}from"./helper-ugt-wfEi.js";import{b as z}from"./barangays-B0GrVjVm.js";import{A as J,R}from"./AppLayout-DzbOefLq.js";import{T as K}from"./TextInput-BDRPWkf3.js";import{L as Q}from"./LoadingButton-C1iImlaz.js";import{I as W}from"./InputLabel-B3dQmOjq.js";import{I as X}from"./InputError-CLlVFHpe.js";import{D as Y}from"./DatePick-CyQMK-JC.js";import{S as Z}from"./SelectInput-RUfc5gbr.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Logo-BXvjXTT5.js";import"./Icons-BmJx25aZ.js";import"./Footer-DbQcsbo_.js";import"./v4-C6aID195.js";const ee={__name:"Form",props:{user:Object,genders:Object,departments:Object},setup(B,{expose:t}){var x,w,I,v,h,V,k,L,E,D,N,P;t();const f=T(),e=B,o=()=>C(f.url),_=()=>new URLSearchParams(window.location.search).get("role"),c=()=>_()==="inspector"?R.USER:R.SUB_ADMIN,d=A({first_name:o()?(x=e==null?void 0:e.user)==null?void 0:x.first_name:"",middle_name:o()?(w=e==null?void 0:e.user)==null?void 0:w.middle_name:"",last_name:o()?(I=e==null?void 0:e.user)==null?void 0:I.last_name:"",email:o()?(v=e==null?void 0:e.user)==null?void 0:v.email:"",mobile:o()?(h=e==null?void 0:e.user)==null?void 0:h.mobile:"",address:o()?(V=e==null?void 0:e.user)==null?void 0:V.address:"",birthDay:o()?O((k=e==null?void 0:e.user)==null?void 0:k.birthDay):"",status:o()?(L=e==null?void 0:e.user)==null?void 0:L.email_verified_at:"",gender_id:o()?(E=e==null?void 0:e.user)==null?void 0:E.gender_id:"",role_id:o()?(D=e==null?void 0:e.user)==null?void 0:D.role_id:c(),department_id:o()?(N=e==null?void 0:e.user)==null?void 0:N.department_id:null,user_type_id:o()?(P=e==null?void 0:e.user)==null?void 0:P.user_type_id:_()==="inspector"?3:null}),S=()=>{let m;switch(_().toLowerCase()){case"sub-admin":m="Admins";break;case"inspector":m="Inspectors";break;default:m="Vendors";break}return m},b=()=>{d.post(route("admin.users.store"),{onFinish:()=>d.reset("first_name","middle_name","last_name","email","mobile","address","birthday","gender_id","sub_admin_type_id","user_type_id","department_id")})},g=()=>{var m;delete d.email,d.put(route("admin.users.update",(m=e==null?void 0:e.user)==null?void 0:m.id),{onFinish:()=>d.reset("first_name","middle_name","last_name","email","mobile","address","birthday","gender_id","sub_admin_type_id","user_type_id","department_id")})},y={page:f,props:e,checkIfEdit:o,getRouteName:_,roleId:c,form:d,getPageName:S,submit:b,update:g,stores:()=>o()?g():b(),get Link(){return H},get usePage(){return T},get useForm(){return A},get formatDateShort(){return O},get isEditPage(){return C},get barangays(){return z},AppLayout:J,TextInput:K,LoadingButton:Q,InputLabel:W,InputError:X,DatePick:Y,SelectInput:Z,get ROLE_ID(){return R}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},ae={class:"font-semibold text-xl text-gray-800 leading-tight"},re={class:"mb-8 text-3xl font-bold"},te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},le={class:"max-w-3xl bg-white rounded-md shadow overflow-hidden"},oe={class:"flex flex-col md:flex-row gap-4 p-5"},me={class:"w-full md:w-1/2"},de={class:"w-full md:w-1/2"},se={class:"w-full md:w-1/2"},ne={class:"flex flex-col md:flex-row gap-4 px-5"},ie={class:"w-full md:w-1/2"},ue={class:"w-full md:w-1/2"},fe=["value"],_e={key:0,class:"w-full md:w-1/2"},ce=["value"],be={class:"mt-4 flex flex-col md:flex-row gap-4 px-5"},ge={class:"w-full md:w-full"},ye={class:"w-full md:w-full"},xe={class:"flex flex-col md:flex-row gap-4 p-5"},we={class:"w-full"},Ie=["value"],ve={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"};function he(B,t,f,e,o,_){return s(),j(e.AppLayout,{title:"Dashboard"},{header:n(()=>[l("h2",ae,u(e.getPageName()),1)]),default:n(()=>{var c,d,S,b,g,U,y,x,w,I,v,h,V,k,L,E,D,N,P,m;return[l("h1",re,[r(e.Link,{class:"text-primary hover:text-secondary",href:`/admin/users?role=${e.getRouteName()}`},{default:n(()=>[p(u(e.getPageName()),1)]),_:1},8,["href"]),t[9]||(t[9]=l("span",{class:"text-secondary font-medium"},"/",-1)),p(" "+u(e.checkIfEdit()?`${(d=(c=e.props)==null?void 0:c.user)==null?void 0:d.first_name} ${(b=(S=e.props)==null?void 0:S.user)==null?void 0:b.last_name}`:"Create New"),1)]),l("div",te,[l("div",le,[l("form",{onSubmit:M(e.stores,["prevent"])},[l("div",oe,[l("div",me,[r(e.InputLabel,{for:"first_name",value:"First Name"}),r(e.TextInput,{id:"first_name",modelValue:e.form.first_name,"onUpdate:modelValue":t[0]||(t[0]=a=>e.form.first_name=a),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"first_name"},null,8,["modelValue"]),r(e.InputError,{class:"mt-2",message:(U=(g=e.form)==null?void 0:g.errors)==null?void 0:U.first_name},null,8,["message"])]),l("div",de,[r(e.InputLabel,{for:"middle_name",value:"Middle Name"}),r(e.TextInput,{id:"middle_name",modelValue:e.form.middle_name,"onUpdate:modelValue":t[1]||(t[1]=a=>e.form.middle_name=a),type:"text",class:"mt-1 block w-full",autofocus:"",autocomplete:"middle_name"},null,8,["modelValue"]),r(e.InputError,{class:"mt-2",message:(x=(y=e.form)==null?void 0:y.errors)==null?void 0:x.first_name},null,8,["message"])]),l("div",se,[r(e.InputLabel,{for:"last_name",value:"Last Name"}),r(e.TextInput,{id:"last_name",modelValue:e.form.last_name,"onUpdate:modelValue":t[2]||(t[2]=a=>e.form.last_name=a),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"last_name"},null,8,["modelValue"]),r(e.InputError,{class:"mt-2",message:(I=(w=e.form)==null?void 0:w.errors)==null?void 0:I.first_name},null,8,["message"])])]),l("div",ne,[l("div",ie,[r(e.InputLabel,{for:"birthDay",value:"Date of Birth",class:"mb-1 block w-full"}),r(e.DatePick,{modelValue:e.form.birthDay,"onUpdate:modelValue":t[3]||(t[3]=a=>e.form.birthDay=a),id:"birthDay",required:"",autofocus:"",autocomplete:"birthDay"},null,8,["modelValue"]),r(e.InputError,{class:"mt-2",message:(h=(v=e.form)==null?void 0:v.errors)==null?void 0:h.birthDay},null,8,["message"])]),l("div",ue,[r(e.InputLabel,{for:"gender_id",value:"Gender",class:"mb-1 block w-full"}),r(e.SelectInput,{modelValue:e.form.gender_id,"onUpdate:modelValue":t[4]||(t[4]=a=>e.form.gender_id=a),id:"gender_id",required:"",autocomplete:"gender_id"},{default:n(()=>[(s(!0),i(q,null,F(f.genders,a=>(s(),i("option",{key:a.id,value:a.id},u(a.name),9,fe))),128))]),_:1},8,["modelValue"]),r(e.InputError,{class:"mt-2",message:(k=(V=e.form)==null?void 0:V.errors)==null?void 0:k.gender_id},null,8,["message"])]),e.getRouteName()==="sub-admin"?(s(),i("div",_e,[r(e.InputLabel,{for:"department",value:"Department",class:"mb-1 block w-full"}),r(e.SelectInput,{modelValue:e.form.department_id,"onUpdate:modelValue":t[5]||(t[5]=a=>e.form.department_id=a),id:"department",required:"",autocomplete:"department"},{default:n(()=>[(s(!0),i(q,null,F(f.departments,a=>(s(),i("option",{key:a.id,value:a.id},u(a.name),9,ce))),128))]),_:1},8,["modelValue"]),r(e.InputError,{class:"mt-2",message:(E=(L=e.form)==null?void 0:L.errors)==null?void 0:E.department_id},null,8,["message"])])):G("",!0)]),l("div",be,[l("div",ge,[r(e.InputLabel,{for:"email",value:"Email"}),r(e.TextInput,{id:"email",modelValue:e.form.email,"onUpdate:modelValue":t[6]||(t[6]=a=>e.form.email=a),type:"email",class:"mt-1 block w-full",required:e.checkIfEdit(),disabled:e.checkIfEdit(),autocomplete:"email"},null,8,["modelValue","required","disabled"]),r(e.InputError,{class:"mt-2",message:(N=(D=e.form)==null?void 0:D.errors)==null?void 0:N.email},null,8,["message"])]),l("div",ye,[r(e.InputLabel,{for:"mobile",value:"Mobile Number"}),r(e.TextInput,{id:"mobile",modelValue:e.form.mobile,"onUpdate:modelValue":t[7]||(t[7]=a=>e.form.mobile=a),type:"number",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),r(e.InputError,{class:"mt-2",message:(m=(P=e.form)==null?void 0:P.errors)==null?void 0:m.mobile},null,8,["message"])])]),l("div",xe,[l("div",we,[r(e.InputLabel,{for:"address",value:"Address"}),r(e.SelectInput,{modelValue:e.form.address,"onUpdate:modelValue":t[8]||(t[8]=a=>e.form.address=a),id:"address",required:"",class:"w-full"},{default:n(()=>[(s(!0),i(q,null,F(e.barangays.barangays,a=>(s(),i("option",{key:a.name,value:a.name},u(a.name),9,Ie))),128))]),_:1},8,["modelValue"]),r(e.InputError,{message:e.form.errors.address},null,8,["message"])])]),l("div",ve,[r(e.Link,{href:`/admin/users?role=${e.getRouteName()}`,class:"text-red-600 hover:underline",tabindex:"-1"},{default:n(()=>[...t[10]||(t[10]=[p("Cancel",-1)])]),_:1},8,["href"]),r(e.LoadingButton,{loading:e.form.processing,class:"bg-primary ml-auto",type:"submit"},{default:n(()=>[...t[11]||(t[11]=[p("Save",-1)])]),_:1},8,["loading"])])],32)])])]}),_:1})}const Ae=$(ee,[["render",he],["__file","Form.vue"]]);export{Ae as default};
