import{d as o,o as i,a as l,b as c,F as h,r as I,e as O,n as u,t as k,c as N,w as g,E as x,g as b,S as P,p as _,G as L,f as R,Q as D}from"./app-uXddmEpz.js";import{L as E}from"./Logo-C5gnPx-H.js";import{I as C}from"./Icons-C3pYYq2K.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{F as U}from"./Footer-Xx_KaGDa.js";const S=[{label:"Dashboard",icon:"home",link:"/admin/dashboard"},{label:"Users",icon:"usersList",link:"/users",children:[{label:"All Users",icon:"all-users",link:"/admin/users?role=user"},{label:"Inspectors",icon:"inspectors",link:"/admin/users?role=inspector"},{label:"Department Admins",icon:"sub-admin",link:"/admin/users?role=sub-admin"},{label:"Roles",icon:"roles",link:"/admin/users/roles"}]},{label:"Departments",icon:"departments",link:"/admin/departments"},{label:"Applications",icon:"applications",link:"/admin/applications",children:[{label:"Stalls",icon:"stalls",link:"/admin/applications/stalls"},{label:"Volante",icon:"volante-type",link:"/admin/applications/volantes"}]},{label:"System Setting",icon:"settings",link:"/admin/system-setting",children:[{label:"Stalls",icon:"stalls",link:"/admin/system-setting/stalls"},{label:"Fees",icon:"fees",link:"/admin/system-setting/fees"},{label:"Stall Type",icon:"stall-type",link:"/admin/system-setting/stall-types"},{label:"Requirements",icon:"requirements",link:"/admin/system-setting/requirements"}]}],A=[{label:"Dashboard",icon:"home",link:"/dashboard"},{label:"My Applications",icon:"applications",link:"/my-applications",children:[{label:"Stall Rental",icon:"stalls",link:"/my-applications/stall-rental-permits"},{label:"Volante Rental",icon:"volante-type",link:"/my-applications/volante-rental-permits"}]}],M=[{label:"Dashboard",icon:"home",link:"/department/dashboard"},{label:"Applications",icon:"applications",link:"/department/applications",children:[{label:"Stall Rental",icon:"stalls",link:"/department/applications/stall-rental-permits"},{label:"Volante Rental",icon:"volante-type",link:"/department/applications/volante-rental-permits"}]}],w={ADMIN:1,SUB_ADMIN:2,USER:3},j={BPLS:1,MTO:2,MHO:3,BFP:4,MEO:5,MPDO:6,MASSO:7,MENRO:8,SO:9,PMO:10,SB:11,HRMO:12,GSO:13,CRO:14,PESO:15,DRRMO:16},T={__name:"Sidebar",props:{open:Boolean},emits:["close"],setup(s,{expose:t}){t();const r=x(),e=s,d=b({}),m=a=>{d.value[a]=!d.value[a]};function n(a){const{role_id:B,sub_admin_type_id:ue}=a;let y;switch(B){case w.SUB_ADMIN:y=M;break;case w.USER:y=A;break;default:y=S;break}return y}function f(){return r.props.auth.user}const p={page:r,props:e,openSections:d,toggleSection:m,getItems:n,getUserDetails:f,ref:b,get Link(){return P},get usePage(){return x},get adminItems(){return S},get userItem(){return A},get subItem(){return M},get ADMIN_TYPE(){return j},get ROLE_ID(){return w},Logo:E,Icons:C};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}},F={class:"p-4 flex items-center justify-center"},H={class:"p-4 space-y-1 overflow-y-auto max-h-[calc(100vh-100px)]"},V={key:0,class:"space-y-1"},$=["onClick"],z={class:"flex items-center gap-2"},q={class:"truncate"},W={key:0,class:"ml-6 space-y-1"},G={class:"truncate"},Q={key:1},Y={class:"truncate"};function J(s,t,r,e,d,m){return i(),o("aside",{class:u(["fixed md:static inset-y-0 left-0 z-40 bg-white shadow-lg transform transition-transform duration-200 ease-in-out","min-h-screen w-64 sm:w-56 md:w-60",{"-translate-x-full":!r.open,"translate-x-0":r.open},"md:translate-x-0"])},[l("div",F,[c(e.Logo,{class:"fill-current text-gray-800",style:{width:"120px",height:"50px"}})]),l("nav",H,[(i(!0),o(h,null,I(e.getItems(e.getUserDetails()),(n,f)=>(i(),o(h,{key:f},[n.children?(i(),o("div",V,[l("button",{onClick:p=>e.toggleSection(n.label),class:u(["flex items-center justify-between w-full px-3 py-2 text-primary rounded-md hover:bg-primary/60 hover:text-white text-sm transition",["flex items-center gap-2 px-2 py-1 rounded text-primary hover:bg-primary/60 hover:text-white transition text-sm",{"bg-primary/60 text-white":s.$page.url===n.link||s.$page.url.startsWith(n.link+"/")}]])},[l("div",z,[c(e.Icons,{is:n.icon,name:n.icon,class:"w-5 h-5 shrink-0"},null,8,["is","name"]),l("span",q,k(n.label),1)]),(i(),o("svg",{class:u(["w-4 h-4 transition-transform",{"rotate-90":e.openSections[n.label]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[0]||(t[0]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],10,$),e.openSections[n.label]?(i(),o("div",W,[(i(!0),o(h,null,I(n.children,(p,a)=>(i(),N(e.Link,{key:a,href:p.link,class:u([["flex items-center gap-2 px-2 py-1 rounded text-primary hover:bg-primary/60 hover:text-white transition text-sm",{"bg-primary/60 text-white":s.$page.url===p.link||s.$page.url.startsWith(p.link+"/")}],"flex items-center gap-2 px-2 py-1 rounded text-primary hover:bg-primary/60 hover:text-white transition text-sm"])},{default:g(()=>[c(e.Icons,{is:p.icon,name:p.icon,class:"w-4 h-4 shrink-0"},null,8,["is","name"]),l("span",G,k(p.label),1)]),_:2},1032,["href","class"]))),128))])):O("",!0)])):(i(),o("div",Q,[c(e.Link,{href:n.link,class:u(["flex items-center gap-3 px-3 py-2 rounded-md text-primary hover:bg-primary/60 hover:text-white transition text-sm",["flex items-center gap-2 px-2 py-1 rounded text-primary hover:bg-primary/60 hover:text-white transition text-sm",{"bg-primary/60 text-white":s.$page.url===n.link||s.$page.url.startsWith(n.link+"/")}]])},{default:g(()=>[c(e.Icons,{is:n.icon,name:n.icon,class:"w-5 h-5 shrink-0"},null,8,["is","name"]),l("span",Y,k(n.label),1)]),_:2},1032,["href","class"])]))],64))),128))])],2)}const K=v(T,[["render",J],["__file","Sidebar.vue"]]),X={__name:"ResponsiveNavLink",props:{active:Boolean,href:String,as:String},setup(s,{expose:t}){t();const r=s,e=L(()=>r.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-primary bg-primary/50 focus:outline-none focus:text-primary focus:bg-primary focus:border-primary transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-primary/60 hover:border-gray-300 focus:outline-none focus:text-primary focus:bg-primary/50 focus:border-primary transition duration-150 ease-in-out"),d={props:r,classes:e,computed:L,get Link(){return P}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},Z=["href"];function ee(s,t,r,e,d,m){return i(),o("div",null,[r.as=="button"?(i(),o("button",{key:0,class:u([e.classes,"w-full text-start"])},[_(s.$slots,"default")],2)):r.as=="a"?(i(),o("a",{key:1,class:u([e.classes,"w-full text-start"]),href:r.href},[_(s.$slots,"default")],10,Z)):(i(),N(e.Link,{key:2,href:r.href,class:u(e.classes)},{default:g(()=>[_(s.$slots,"default")]),_:3},8,["href","class"]))])}const te=v(X,[["render",ee],["__file","ResponsiveNavLink.vue"]]),ne={__name:"Header",emits:["toggleSidebar"],setup(s,{expose:t,emit:r}){t();const e=r,d=b(!1),m=()=>{D.post(route("logout"))};function n(){const a=x().url;return console.log("page",a),a.includes("/admin/departments")?"Departments":a.includes("/admin/users")&&a.includes("role=user")?"All Users":a.includes("/admin/users")&&a.includes("role=inspector")?"Inspectors":a.includes("/admin/users")&&a.includes("role=sub-admin")?"Department Admins":a.includes("/admin/users/sub-admin-types")?"Admin Types":a.includes("/admin/users/user-types")?"User Types":a.includes("/admin/users/roles")?"Roles":"Dashboard"}const f={emit:e,dropdownOpen:d,logout:m,getHeaderName:n,ref:b,get router(){return D},get usePage(){return x},get adminItems(){return S},ResponsiveNavLink:te,Icons:C};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}},se={class:"flex items-center justify-between flex-wrap bg-white h-16 px-4 sm:px-6 lg:px-8 shadow-md w-full relative overflow-visible"},re={class:"relative ml-auto"};function ae(s,t,r,e,d,m){return i(),o("header",se,[l("button",{onClick:t[0]||(t[0]=n=>s.$emit("toggleSidebar")),class:"text-gray-600 md:hidden"},[c(e.Icons,{name:"hamburger",class:"w-6 h-6 text-primary"})]),t[5]||(t[5]=l("h1",{class:"text-base sm:text-lg font-bold text-primary uppercase truncate max-w-xs sm:max-w-sm lg:max-w-md"},null,-1)),l("div",re,[l("button",{onClick:t[1]||(t[1]=n=>e.dropdownOpen=!e.dropdownOpen),class:"focus:outline-none"},[c(e.Icons,{name:"profile",class:"w-6 h-6 text-primary"})]),e.dropdownOpen?(i(),o("div",{key:0,onClick:t[2]||(t[2]=n=>e.dropdownOpen=!1),class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50"},[c(e.ResponsiveNavLink,{href:s.route("profile.show"),active:s.route().current("profile.show")},{default:g(()=>t[3]||(t[3]=[R(" Profile ")])),_:1,__:[3]},8,["href","active"]),c(e.ResponsiveNavLink,{onClick:e.logout},{default:g(()=>t[4]||(t[4]=[R(" Log Out ")])),_:1,__:[4]})])):O("",!0)])])}const ie=v(ne,[["render",ae],["__file","Header.vue"]]),oe={__name:"AppLayout",setup(s,{expose:t}){t();const e={sidebarOpen:b(!1),ref:b,Sidebar:K,Header:ie,Footer:U};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},le={class:"flex min-h-screen bg-gray-100 overflow-hidden"},de={class:"flex flex-col flex-1 min-w-0 transition-all duration-200"},ce={class:"flex-1 overflow-y-auto overflow-x-hidden p-4 sm:p-6 lg:p-8 w-full"};function pe(s,t,r,e,d,m){return i(),o(h,null,[l("div",le,[c(e.Sidebar,{open:e.sidebarOpen,onClose:t[0]||(t[0]=n=>e.sidebarOpen=!1)},null,8,["open"]),e.sidebarOpen?(i(),o("div",{key:0,onClick:t[1]||(t[1]=n=>e.sidebarOpen=!1),class:"fixed inset-0 z-30 bg-black/40 md:hidden"})):O("",!0),l("div",de,[c(e.Header,{onToggleSidebar:t[2]||(t[2]=n=>e.sidebarOpen=!e.sidebarOpen)}),l("main",ce,[_(s.$slots,"default")])])]),c(e.Footer)],64)}const he=v(oe,[["render",pe],["__file","AppLayout.vue"]]);export{he as A,w as R};
