import{c as w,o as d,w as l,a,b as i,n as L,f as z,d as _,e as B,F as N,r as P,t as r,h as V,i as R,Q as S,S as b}from"./app-uXddmEpz.js";import{l as u,p as D}from"./pickBy-Cz0_Eu6Y.js";import{A as j}from"./AppLayout-Br8Pf_X-.js";import{B as A}from"./BaseTable-BlSLnjYp.js";import{P as C}from"./Pagination-CeXYWUig.js";import{I as T}from"./Icons-C3pYYq2K.js";import{a as E}from"./helper-BoB9zCoy.js";import{B as I}from"./Badge-DyQTjnI6.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Logo-C5gnPx-H.js";import"./Footer-Xx_KaGDa.js";const q={__name:"VolanteRental",props:{volanteRentals:Object,filters:Object},setup(x,{expose:s}){var m;s();const n=["Permit No.","Business Name","Transient/Tent","Location","Duration","Area of Square Meter","Category","Applicant","Duration Period","Status"],e=x,p=V({search:(m=e==null?void 0:e.filters)==null?void 0:m.search});R(p,u.throttle(()=>{S.get("/my-applications/volante-rental-permit",D(p),{preserveState:!0})},150),{deep:!0});function y(o){let t="";return o===1?t="Daily":o===2?t="Weekly":t="Event based",t}const c={headers:n,props:e,form:p,duration:y,status:o=>{let t={};switch(o){case 3:t={color:"orange",status:"Expired"};break;case 3:t={color:"red",status:"Rejected"};break;case 1:t={color:"green",status:"Approved"};break;default:t={color:"blue",status:"Pending"}}return t},watch:R,reactive:V,get Link(){return b},get router(){return S},get throttle(){return u.throttle},get mapValues(){return u.mapValues},get pickBy(){return D},AppLayout:j,BaseTable:A,Pagination:C,Icon:T,get formatDate(){return E},Badge:I};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Q={class:"flex items-center justify-end mb-6 md:justify-self-center w-full"},M={class:"px-4 py-3 capitalize"},W={class:"px-4 py-3 capitalize"},G={class:"px-4 py-3 capitalize"},H={class:"px-4 py-3 capitalize"},J={class:"px-4 py-3 capitalize"},K={class:"px-4 py-3 capitalize"},U={class:"px-4 py-3 capitalize"},X={class:"px-4 py-3 capitalize"},Y={class:"px-4 py-3 capitalize"},Z={class:"px-4 py-3 capitalize"},$={class:"px-4 py-3 capitalize"},tt={class:"px-4 py-3 capitalize"},et={key:0},at={class:"mt-6 flex justify-center"};function st(x,s,n,e,p,y){return d(),w(e.AppLayout,{title:"Volante"},{header:l(()=>s[0]||(s[0]=[a("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Volante ",-1)])),default:l(()=>{var f,c;return[s[3]||(s[3]=a("h1",{class:"mb-8 text-3xl font-bold text-primary"},"Volante Rentals",-1)),a("div",F,[a("div",Q,[i(e.Link,{type:"submit",class:L([{"opacity-25":e.form.processing},"bg-btn-gradient text-white font-bold uppercase px-5 py-2 rounded focus:outline-none shadow hover:bg-primary-700 transition-colors"]),disabled:e.form.processing,href:"/my-applications/volante-rental-permits/create"},{default:l(()=>s[1]||(s[1]=[z("Apply for New Permit")])),_:1,__:[1]},8,["class","disabled"])]),i(e.BaseTable,{headers:e.headers,data:(f=n.volanteRentals)==null?void 0:f.data},{row:l(({data:m})=>{var o;return[(d(!0),_(N,null,P(m,(t,rt)=>{var h,g,k,v;return d(),_("tr",{key:n.volanteRentals.id,class:"hover:bg-gray-50"},[a("td",M,r(((h=t==null?void 0:t.permits)==null?void 0:h.permit_number)??"-"),1),a("td",W,r(t.name),1),a("td",G,r((g=t.stalls)==null?void 0:g.name),1),a("td",H,r(t.location),1),a("td",J,r(e.duration(t==null?void 0:t.duration)),1),a("td",K,r((k=t.stalls)==null?void 0:k.area_of_sqr_meter),1),a("td",U,r((v=t.stalls)==null?void 0:v.stallsCategories.name),1),a("td",X,r(`${t.user.first_name} ${t.user.last_name}`),1),a("td",Y,r(`${e.formatDate(t.start_date)} - ${e.formatDate(t.end_date)}`),1),a("td",Z,[i(e.Badge,{color:e.status(t.permits.status).color},{default:l(()=>[z(r(e.status(t.permits.status).status),1)]),_:2},1032,["color"])]),a("td",$,[t.status===1?(d(),w(e.Link,{key:0,class:"flex items-center px-4",href:`/my-applications/volante-rental-permits/${t.id}/edit`,tabindex:"-1"},{default:l(()=>[i(e.Icon,{name:"download",class:"block w-6 h-6 fill-primary"})]),_:2},1032,["href"])):B("",!0)]),a("td",tt,[i(e.Link,{class:"flex items-center pr-2",href:`/my-applications/volante-rental-permits/${t.id}/edit`,tabindex:"-1"},{default:l(()=>[i(e.Icon,{name:"cheveron-right",class:"block w-6 h-6 fill-primary"})]),_:2},1032,["href"])])])}),128)),((o=n.volanteRentals)==null?void 0:o.total)===0?(d(),_("tr",et,s[2]||(s[2]=[a("td",{class:"px-6 py-4 border-t text-center",colspan:"7"},"No records found.",-1)]))):B("",!0)]}),_:1},8,["data"])]),a("div",at,[i(e.Pagination,{links:(c=n.volanteRentals)==null?void 0:c.links},null,8,["links"])])]}),_:1,__:[3]})}const xt=O(q,[["render",st],["__file","VolanteRental.vue"]]);export{xt as default};
