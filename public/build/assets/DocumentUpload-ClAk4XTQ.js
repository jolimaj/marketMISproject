import{d as r,o as a,a as s,F as p,r as u,t as o,n as x,e as c,l as m}from"./app-BkL1CNwx.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h={name:"DocumentUploader",props:{requiredDocs:{type:Array}},data(){return{uploadedFiles:[],acceptedFileTypes:".pdf,.jpg,.jpeg,.png",a:0}},methods:{handleDrop(t){this.handleFiles(t.dataTransfer.files)},handleFileSelect(t){this.handleFiles(t.target.files)},handleFiles(t){Array.from(t).forEach(e=>{if(this.validateFile(e)){console.log(e);const n={id:Date.now()+Math.random(),name:e.name,size:e.size,type:e.type,file:e,status:"pending",progress:0,documentType:this.a+1};this.uploadedFiles.push(n),this.uploadFile(n),this.a++}})},validateFile(t){return["application/pdf","image/jpeg","image/png"].includes(t.type)?t.size>5242880?(alert("File too large: "+t.name),!1):!0:(alert("Invalid file type: "+t.name),!1)},uploadFile(t){t.status="uploading";const e=setInterval(()=>{t.progress<100?t.progress+=20:(clearInterval(e),t.progress=100,t.status="uploaded",this.$emit("update:files",this.uploadedFiles))},500)},formatFileSize(t){const e=t/1024;return e<1024?`${e.toFixed(1)} KB`:`${(e/1024).toFixed(1)} MB`},removeFile(t){this.uploadedFiles=this.uploadedFiles.filter(e=>e.id!==t),this.$emit("update:files",this.uploadedFiles)},isDocumentUploaded(t){return this.uploadedFiles.some(e=>(console.log(e.documentType,t),e.documentType===t&&e.status==="uploaded"))}}},y={class:"space-y-6"},v={class:"space-y-4"},F={class:"space-y-2"},f={class:"text-sm font-medium text-gray-900"},_={class:"text-xs text-gray-500"},D={key:0,class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},k={class:"flex flex-col items-center space-y-2"},b=["accept"],w={class:"space-y-2"},z={class:"flex-1 truncate"},C={class:"text-sm text-gray-800 truncate"},U={class:"text-xs text-gray-500"},B={class:"flex items-center space-x-3"},S={key:0,class:"text-xs text-primary"},T={key:1,class:"text-xs text-green-600"},M={key:2,class:"text-xs text-red-600"},q=["onClick"];function I(t,e,n,R,d,i){return a(),r("div",y,[s("div",v,[e[5]||(e[5]=s("h3",{class:"text-lg font-semibold text-secondary"},"Required Documents",-1)),s("ul",F,[(a(!0),r(p,null,u(n.requiredDocs,l=>(a(),r("li",{key:l.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50"},[s("div",null,[s("p",f,o(`${l.name}(${l!=null&&l.isRequired?"Required":"Optional"})`),1),s("p",_,o(l.description),1)]),s("div",{class:x(["w-5 h-5 rounded-full flex items-center justify-center",i.isDocumentUploaded(l.id)?"bg-green-500 text-white":"bg-gray-200 text-gray-500"])},[i.isDocumentUploaded(l.id)?(a(),r("svg",D,[...e[4]||(e[4]=[s("path",{"fill-rule":"evenodd",d:`M16.707 5.293a1 1 0 010 1.414l-8 
                   8a1 1 0 01-1.414 0l-4-4a1 1 0 
                   011.414-1.414L8 12.586l7.293-7.293a1 
                   1 0 011.414 0z`,"clip-rule":"evenodd"},null,-1)])])):c("",!0)],2)]))),128))])]),s("div",{class:"p-6 border-2 border-dashed rounded-lg text-center bg-white hover:bg-gray-50 cursor-pointer",onDragover:e[2]||(e[2]=m(()=>{},["prevent"])),onDrop:e[3]||(e[3]=m((...l)=>i.handleDrop&&i.handleDrop(...l),["prevent"]))},[s("div",k,[e[6]||(e[6]=s("svg",{class:"w-10 h-10 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:`M12 16v-8m0 0l-3 3m3-3l3 3m6 2v4a2 2 0 01-2 
                   2H6a2 2 0 01-2-2v-4m16-4l-4-4a2 2 0 
                   00-2-2H6a2 2 0 00-2 2v4`})],-1)),e[7]||(e[7]=s("p",{class:"text-sm text-gray-600"},"Upload Required Documents",-1)),e[8]||(e[8]=s("p",{class:"text-xs text-gray-400"},"PDF, JPG, PNG (Max 5MB)",-1)),s("input",{type:"file",multiple:"",class:"hidden",ref:"fileInput",onChange:e[0]||(e[0]=(...l)=>i.handleFileSelect&&i.handleFileSelect(...l)),accept:d.acceptedFileTypes},null,40,b),s("button",{onClick:e[1]||(e[1]=l=>t.$refs.fileInput.click()),class:"px-4 py-2 text-sm text-white bg-primary rounded-lg hover:bg-primary/60"}," Choose Files ")])],32),s("div",w,[(a(!0),r(p,null,u(d.uploadedFiles,l=>(a(),r("div",{key:l.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50"},[s("div",z,[s("p",C,o(l.name),1),s("p",U,o(i.formatFileSize(l.size)),1)]),s("div",B,[l.status==="uploading"?(a(),r("span",S,"Uploading...")):l.status==="uploaded"?(a(),r("span",T,"Uploaded")):l.status==="error"?(a(),r("span",M,"Failed")):c("",!0),s("button",{onClick:j=>i.removeFile(l.id),class:"text-xs text-red-500 hover:underline"}," Remove ",8,q)])]))),128))])])}const A=g(h,[["render",I],["__file","DocumentUpload.vue"]]);export{A as D};
