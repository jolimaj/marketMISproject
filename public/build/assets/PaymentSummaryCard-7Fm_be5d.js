import{d as n,o as l,a as t,F as m,r as g,t as p,n as k,e as c,l as _,c as w,g as h,i as v,p as b,G as F,f as S}from"./app-uXddmEpz.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as D}from"./InputError-ttZ3AOSc.js";import{b as C}from"./helper-BoB9zCoy.js";const $={name:"DocumentUploader",props:{requiredDocs:{type:Array}},data(){return{uploadedFiles:[],acceptedFileTypes:".pdf,.jpg,.jpeg,.png",a:0}},methods:{handleDrop(s){this.handleFiles(s.dataTransfer.files)},handleFileSelect(s){this.handleFiles(s.target.files)},handleFiles(s){Array.from(s).forEach(e=>{if(this.validateFile(e)){console.log(e);const a={id:Date.now()+Math.random(),name:e.name,size:e.size,type:e.type,file:e,status:"pending",progress:0,documentType:this.a+1};this.uploadedFiles.push(a),this.uploadFile(a),this.a++}})},validateFile(s){return["application/pdf","image/jpeg","image/png"].includes(s.type)?s.size>5242880?(alert("File too large: "+s.name),!1):!0:(alert("Invalid file type: "+s.name),!1)},uploadFile(s){s.status="uploading";const e=setInterval(()=>{s.progress<100?s.progress+=20:(clearInterval(e),s.progress=100,s.status="uploaded",this.$emit("update:files",this.uploadedFiles))},500)},formatFileSize(s){const e=s/1024;return e<1024?`${e.toFixed(1)} KB`:`${(e/1024).toFixed(1)} MB`},removeFile(s){this.uploadedFiles=this.uploadedFiles.filter(e=>e.id!==s),this.$emit("update:files",this.uploadedFiles)},isDocumentUploaded(s){return this.uploadedFiles.some(e=>(console.log(e.documentType,s),e.documentType===s&&e.status==="uploaded"))}}},j={class:"space-y-6"},z={class:"space-y-4"},U={class:"space-y-2"},B={class:"text-sm font-medium text-gray-900"},P={class:"text-xs text-gray-500"},T={key:0,class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},I={class:"flex flex-col items-center space-y-2"},M=["accept"],V={class:"space-y-2"},q={class:"flex-1 truncate"},A={class:"text-sm text-gray-800 truncate"},R={class:"text-xs text-gray-500"},E={class:"flex items-center space-x-3"},N={key:0,class:"text-xs text-primary"},G={key:1,class:"text-xs text-green-600"},H={key:2,class:"text-xs text-red-600"},L=["onClick"];function J(s,e,a,i,u,o){return l(),n("div",j,[t("div",z,[e[5]||(e[5]=t("h3",{class:"text-lg font-semibold"},"Required Documents",-1)),t("ul",U,[(l(!0),n(m,null,g(a.requiredDocs,r=>(l(),n("li",{key:r.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50"},[t("div",null,[t("p",B,p(`${r.name}(${r!=null&&r.isRequired?"Required":"Optional"})`),1),t("p",P,p(r.description),1)]),t("div",{class:k(["w-5 h-5 rounded-full flex items-center justify-center",o.isDocumentUploaded(r.id)?"bg-green-500 text-white":"bg-gray-200 text-gray-500"])},[o.isDocumentUploaded(r.id)?(l(),n("svg",T,e[4]||(e[4]=[t("path",{"fill-rule":"evenodd",d:`M16.707 5.293a1 1 0 010 1.414l-8 
                   8a1 1 0 01-1.414 0l-4-4a1 1 0 
                   011.414-1.414L8 12.586l7.293-7.293a1 
                   1 0 011.414 0z`,"clip-rule":"evenodd"},null,-1)]))):c("",!0)],2)]))),128))])]),t("div",{class:"p-6 border-2 border-dashed rounded-lg text-center bg-white hover:bg-gray-50 cursor-pointer",onDragover:e[2]||(e[2]=_(()=>{},["prevent"])),onDrop:e[3]||(e[3]=_((...r)=>o.handleDrop&&o.handleDrop(...r),["prevent"]))},[t("div",I,[e[6]||(e[6]=t("svg",{class:"w-10 h-10 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:`M12 16v-8m0 0l-3 3m3-3l3 3m6 2v4a2 2 0 01-2 
                   2H6a2 2 0 01-2-2v-4m16-4l-4-4a2 2 0 
                   00-2-2H6a2 2 0 00-2 2v4`})],-1)),e[7]||(e[7]=t("p",{class:"text-sm text-gray-600"},"Upload Required Documents",-1)),e[8]||(e[8]=t("p",{class:"text-xs text-gray-400"},"PDF, JPG, PNG (Max 5MB)",-1)),t("input",{type:"file",multiple:"",class:"hidden",ref:"fileInput",onChange:e[0]||(e[0]=(...r)=>o.handleFileSelect&&o.handleFileSelect(...r)),accept:u.acceptedFileTypes},null,40,M),t("button",{onClick:e[1]||(e[1]=r=>s.$refs.fileInput.click()),class:"px-4 py-2 text-sm text-white bg-primary rounded-lg hover:bg-primary/60"}," Choose Files ")])],32),t("div",V,[(l(!0),n(m,null,g(u.uploadedFiles,r=>(l(),n("div",{key:r.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50"},[t("div",q,[t("p",A,p(r.name),1),t("p",R,p(o.formatFileSize(r.size)),1)]),t("div",E,[r.status==="uploading"?(l(),n("span",N,"Uploading...")):r.status==="uploaded"?(l(),n("span",G,"Uploaded")):r.status==="error"?(l(),n("span",H,"Failed")):c("",!0),t("button",{onClick:d=>o.removeFile(r.id),class:"text-xs text-red-500 hover:underline"}," Remove ",8,L)])]))),128))])])}const me=x($,[["render",J],["__file","DocumentUpload.vue"]]),O={__name:"SingleFileUpload",props:{modelValue:File,label:{type:String,default:""},accept:{type:String,default:".jpg,.jpeg,.png,.pdf"},error:{type:String,default:""}},emits:["update:modelValue"],setup(s,{expose:e,emit:a}){e();const i=s,u=a,o=h(null),r=y=>{const f=y.target.files[0];o.value=f||null,u("update:modelValue",f||null)};v(()=>i.modelValue,y=>{o.value=y});const d={props:i,emit:u,file:o,onFileChange:r,ref:h,watch:v,InputError:D};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},K=["accept"],Q={key:0,class:"mt-2 text-sm text-gray-600"};function W(s,e,a,i,u,o){return l(),n("div",null,[t("input",{type:"file",accept:a.accept,onChange:i.onFileChange,class:"block w-full text-sm text-primary border border-primary rounded-lg cursor-pointer bg-gray-50 focus:ring-indigo-500 rounded-md shadow-sm"},null,40,K),i.file?(l(),n("div",Q," Selected: "+p(i.file.name),1)):c("",!0),a.error?(l(),w(i.InputError,{key:1,class:"mt-2",message:a.error},null,8,["message"])):c("",!0)])}const ge=x(O,[["render",W],["__file","SingleFileUpload.vue"]]),X={__name:"PaymentSummaryCard",props:{details:{type:Object,required:!0}},setup(s,{expose:e}){e();const a=s,i=F(()=>{const{breakdown:o,total:r,...d}=a.details;return d}),u={props:a,filteredDetails:i,computed:F,get formatAmount(){return C}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},Y={key:0,class:"max-w-md mx-auto"},Z={class:"bg-white rounded-2xl shadow p-6 space-y-4"},ee={class:"text-lg font-semibold text-gray-800 flex items-center"},te={class:"capitalize"},se={class:"font-medium text-gray-800"},re={key:0,class:"border-t pt-3"},ae={class:"space-y-1"},le={class:"font-medium"},ne={key:1,class:"border-t pt-3 flex justify-between items-center"},oe={class:"text-xl font-bold text-primary"};function ie(s,e,a,i,u,o){return a.details?(l(),n("div",Y,[t("div",Z,[t("h2",ee,[b(s.$slots,"icon",{},()=>[e[0]||(e[0]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.1 0-2 .9-2 2v2h4v-2c0-1.1-.9-2-2-2zm-6 8V10a6 6 0 1112 0v6h2v2H4v-2h2z"})],-1))]),b(s.$slots,"title",{},()=>[e[1]||(e[1]=S("Payment Summary"))])]),(l(!0),n(m,null,g(i.filteredDetails,(r,d)=>(l(),n("div",{key:d,class:"flex justify-between text-sm text-gray-600"},[t("span",te,p(d),1),t("span",se,p(r),1)]))),128)),a.details.breakdown?(l(),n("div",re,[e[2]||(e[2]=t("h3",{class:"text-sm font-semibold text-gray-700 mb-2"},"Breakdown",-1)),t("ul",ae,[(l(!0),n(m,null,g(a.details.breakdown,(r,d)=>(l(),n("li",{key:d,class:"flex justify-between text-sm"},[t("span",null,p(r.type||`Item ${d+1}`),1),t("span",le,p(i.formatAmount(r.amount)),1)]))),128))])])):c("",!0),a.details.total!==void 0?(l(),n("div",ne,[e[3]||(e[3]=t("span",{class:"text-base font-semibold text-gray-700"},"Total",-1)),t("span",oe,p(i.formatAmount(a.details.total)),1)])):c("",!0)])])):c("",!0)}const ye=x(X,[["render",ie],["__file","PaymentSummaryCard.vue"]]);export{me as D,ye as P,ge as S};
