import{c as G,o as i,w as s,a as l,b as a,f as q,t as N,p as H,d as P,e as z,F as B,r as A,m as J,q as K,H as O,u as C,l as Q}from"./app-BanCskK_.js";import{a as M,i as j}from"./helper-ugt-wfEi.js";import{A as W,R as F}from"./AppLayout-C4XkhOEP.js";import{T as X}from"./TextInput-Ds5jS_tB.js";import{L as Y}from"./LoadingButton-DfFYCWyC.js";import{I as Z}from"./InputLabel-DEGwxhMC.js";import{I as $}from"./InputError-BURk-VOo.js";import{D as ee}from"./DatePick-Xf6ZR_4f.js";import{S as ae}from"./SelectInput-DO5yod0Y.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Logo-BNihBzbJ.js";import"./Icons-DEAzJamH.js";import"./Footer-qu4Jt-lS.js";import"./v4-C6aID195.js";const te={__name:"Form",props:{user:Object,genders:Object,departments:Object},setup(R,{expose:r}){var b,x,y,w,I,v,h,V,k,L,D,E;r();const n=O(),e=R,o=()=>j(n.url),u=()=>new URLSearchParams(window.location.search).get("role"),f=()=>u()==="inspector"?F.USER:F.SUB_ADMIN,d=C({first_name:o()?(b=e==null?void 0:e.user)==null?void 0:b.first_name:"",middle_name:o()?(x=e==null?void 0:e.user)==null?void 0:x.middle_name:"",last_name:o()?(y=e==null?void 0:e.user)==null?void 0:y.last_name:"",email:o()?(w=e==null?void 0:e.user)==null?void 0:w.email:"",mobile:o()?(I=e==null?void 0:e.user)==null?void 0:I.mobile:"",address:o()?(v=e==null?void 0:e.user)==null?void 0:v.address:"",birthDay:o()?M((h=e==null?void 0:e.user)==null?void 0:h.birthDay):"",status:o()?(V=e==null?void 0:e.user)==null?void 0:V.email_verified_at:"",gender_id:o()?(k=e==null?void 0:e.user)==null?void 0:k.gender_id:"",role_id:o()?(L=e==null?void 0:e.user)==null?void 0:L.role_id:f(),department_id:o()?(D=e==null?void 0:e.user)==null?void 0:D.department_id:null,user_type_id:o()?(E=e==null?void 0:e.user)==null?void 0:E.user_type_id:u()==="inspector"?3:null}),p=()=>{let m;switch(u().toLowerCase()){case"sub-admin":m="Admins";break;case"inspector":m="Inspectors";break;default:m="Vendors";break}return m},_=()=>{d.post(route("admin.users.store"),{onFinish:()=>d.reset("first_name","middle_name","last_name","email","mobile","address","birthday","gender_id","sub_admin_type_id","user_type_id","department_id")})},c=()=>{var m;delete d.email,d.put(route("admin.users.update",(m=e==null?void 0:e.user)==null?void 0:m.id),{onFinish:()=>d.reset("first_name","middle_name","last_name","email","mobile","address","birthday","gender_id","sub_admin_type_id","user_type_id","department_id")})},g={page:n,props:e,checkIfEdit:o,getRouteName:u,roleId:f,form:d,getPageName:p,submit:_,update:c,stores:()=>o()?c():_(),get Link(){return Q},get usePage(){return O},get useForm(){return C},get formatDateShort(){return M},get isEditPage(){return j},AppLayout:W,TextInput:X,LoadingButton:Y,InputLabel:Z,InputError:$,DatePick:ee,SelectInput:ae,get ROLE_ID(){return F}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},le={class:"font-semibold text-xl text-gray-800 leading-tight"},oe={class:"mb-8 text-3xl font-bold"},me={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},de={class:"max-w-3xl bg-white rounded-md shadow overflow-hidden"},se={class:"flex flex-col md:flex-row gap-4 p-5"},ie={class:"w-full md:w-1/2"},ne={class:"w-full md:w-1/2"},ue={class:"w-full md:w-1/2"},fe={class:"flex flex-col md:flex-row gap-4 px-5"},_e={class:"w-full md:w-1/2"},ce={class:"w-full md:w-1/2"},ge=["value"],be={key:0,class:"w-full md:w-1/2"},xe=["value"],ye={class:"mt-4 flex flex-col md:flex-row gap-4 px-5"},we={class:"w-full md:w-full"},Ie={class:"w-full md:w-full"},ve={class:"flex flex-col md:flex-row gap-4 p-5"},he={class:"w-full"},Ve={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"};function ke(R,r,n,e,o,u){return i(),G(e.AppLayout,{title:"Dashboard"},{header:s(()=>[l("h2",le,N(e.getPageName()),1)]),default:s(()=>{var f,d,p,_,c,U,g,b,x,y,w,I,v,h,V,k,L,D,E,m,S,T;return[l("h1",oe,[a(e.Link,{class:"text-primary hover:text-secondary",href:`/admin/users?role=${e.getRouteName()}`},{default:s(()=>[q(N(e.getPageName()),1)]),_:1},8,["href"]),r[9]||(r[9]=l("span",{class:"text-secondary font-medium"},"/",-1)),q(" "+N(e.checkIfEdit()?`${(d=(f=e.props)==null?void 0:f.user)==null?void 0:d.first_name} ${(_=(p=e.props)==null?void 0:p.user)==null?void 0:_.last_name}`:"Create New"),1)]),l("div",me,[l("div",de,[l("form",{onSubmit:H(e.stores,["prevent"])},[l("div",se,[l("div",ie,[a(e.InputLabel,{for:"first_name",value:"First Name"}),a(e.TextInput,{id:"first_name",modelValue:e.form.first_name,"onUpdate:modelValue":r[0]||(r[0]=t=>e.form.first_name=t),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"first_name"},null,8,["modelValue"]),a(e.InputError,{class:"mt-2",message:(U=(c=e.form)==null?void 0:c.errors)==null?void 0:U.first_name},null,8,["message"])]),l("div",ne,[a(e.InputLabel,{for:"middle_name",value:"Middle Name"}),a(e.TextInput,{id:"middle_name",modelValue:e.form.middle_name,"onUpdate:modelValue":r[1]||(r[1]=t=>e.form.middle_name=t),type:"text",class:"mt-1 block w-full",autofocus:"",autocomplete:"middle_name"},null,8,["modelValue"]),a(e.InputError,{class:"mt-2",message:(b=(g=e.form)==null?void 0:g.errors)==null?void 0:b.first_name},null,8,["message"])]),l("div",ue,[a(e.InputLabel,{for:"last_name",value:"Last Name"}),a(e.TextInput,{id:"last_name",modelValue:e.form.last_name,"onUpdate:modelValue":r[2]||(r[2]=t=>e.form.last_name=t),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"last_name"},null,8,["modelValue"]),a(e.InputError,{class:"mt-2",message:(y=(x=e.form)==null?void 0:x.errors)==null?void 0:y.first_name},null,8,["message"])])]),l("div",fe,[l("div",_e,[a(e.InputLabel,{for:"birthDay",value:"Date of Birth",class:"mb-1 block w-full"}),a(e.DatePick,{modelValue:e.form.birthDay,"onUpdate:modelValue":r[3]||(r[3]=t=>e.form.birthDay=t),id:"birthDay",required:"",autofocus:"",autocomplete:"birthDay"},null,8,["modelValue"]),a(e.InputError,{class:"mt-2",message:(I=(w=e.form)==null?void 0:w.errors)==null?void 0:I.birthDay},null,8,["message"])]),l("div",ce,[a(e.InputLabel,{for:"gender_id",value:"Gender",class:"mb-1 block w-full"}),a(e.SelectInput,{modelValue:e.form.gender_id,"onUpdate:modelValue":r[4]||(r[4]=t=>e.form.gender_id=t),id:"gender_id",required:"",autocomplete:"gender_id"},{default:s(()=>[(i(!0),P(B,null,A(n.genders,t=>(i(),P("option",{key:t.id,value:t.id},N(t.name),9,ge))),128))]),_:1},8,["modelValue"]),a(e.InputError,{class:"mt-2",message:(h=(v=e.form)==null?void 0:v.errors)==null?void 0:h.gender_id},null,8,["message"])]),e.getRouteName()==="sub-admin"?(i(),P("div",be,[a(e.InputLabel,{for:"department",value:"Department",class:"mb-1 block w-full"}),a(e.SelectInput,{modelValue:e.form.department_id,"onUpdate:modelValue":r[5]||(r[5]=t=>e.form.department_id=t),id:"department",required:"",autocomplete:"department"},{default:s(()=>[(i(!0),P(B,null,A(n.departments,t=>(i(),P("option",{key:t.id,value:t.id},N(t.name),9,xe))),128))]),_:1},8,["modelValue"]),a(e.InputError,{class:"mt-2",message:(k=(V=e.form)==null?void 0:V.errors)==null?void 0:k.department_id},null,8,["message"])])):z("",!0)]),l("div",ye,[l("div",we,[a(e.InputLabel,{for:"email",value:"Email"}),a(e.TextInput,{id:"email",modelValue:e.form.email,"onUpdate:modelValue":r[6]||(r[6]=t=>e.form.email=t),type:"email",class:"mt-1 block w-full",required:e.checkIfEdit(),disabled:e.checkIfEdit(),autocomplete:"email"},null,8,["modelValue","required","disabled"]),a(e.InputError,{class:"mt-2",message:(D=(L=e.form)==null?void 0:L.errors)==null?void 0:D.email},null,8,["message"])]),l("div",Ie,[a(e.InputLabel,{for:"mobile",value:"Mobile Number"}),a(e.TextInput,{id:"mobile",modelValue:e.form.mobile,"onUpdate:modelValue":r[7]||(r[7]=t=>e.form.mobile=t),type:"number",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),a(e.InputError,{class:"mt-2",message:(m=(E=e.form)==null?void 0:E.errors)==null?void 0:m.mobile},null,8,["message"])])]),l("div",ve,[l("div",he,[a(e.InputLabel,{for:"address",value:"Address"}),J(l("textarea",{id:"address","onUpdate:modelValue":r[8]||(r[8]=t=>e.form.address=t),type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:"",autocomplete:"address"},null,512),[[K,e.form.address]]),a(e.InputError,{class:"mt-2",message:(T=(S=e.form)==null?void 0:S.errors)==null?void 0:T.address},null,8,["message"])])]),l("div",Ve,[a(e.Link,{href:`/admin/users?role=${e.getRouteName()}`,class:"text-red-600 hover:underline",tabindex:"-1"},{default:s(()=>[...r[10]||(r[10]=[q("Cancel",-1)])]),_:1},8,["href"]),a(e.LoadingButton,{loading:e.form.processing,class:"bg-primary ml-auto",type:"submit"},{default:s(()=>[...r[11]||(r[11]=[q("Save",-1)])]),_:1},8,["loading"])])],32)])])]}),_:1})}const Oe=re(te,[["render",ke],["__file","Form.vue"]]);export{Oe as default};
