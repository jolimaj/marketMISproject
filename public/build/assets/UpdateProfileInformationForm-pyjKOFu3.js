import{c as g,o as p,w as s,b as r,f as n,n as B,d as E,e as I,a as l,k as _,L as P,I as F,l as h,m as N,x as y,g as d,Q as w,S as T}from"./app-uXddmEpz.js";import{A}from"./ActionMessage-CCDD4Tq0.js";import{F as C}from"./FormSection-BcmzQ4al.js";import{I as D}from"./InputError-ttZ3AOSc.js";import{I as M}from"./InputLabel-D_8-PT0K.js";import{P as j}from"./PrimaryButton-Q75du8kc.js";import{S as q}from"./SecondaryButton-CtFZuys_.js";import{T as z}from"./TextInput-CHlK30DQ.js";import{D as R}from"./DatePick-bkgg8O9e.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SectionTitle-4XE_3y5m.js";import"./v4-C6aID195.js";const Q={__name:"UpdateProfileInformationForm",props:{user:Object},setup(u,{expose:o}){o();const t=u,e=y({_method:"PUT",first_name:t.user.first_name,middle_name:t.user.middle_name,last_name:t.user.last_name,email:t.user.email,birthday:t.user.birthday,address:t.user.address,photo:null}),f=d(null),i=d(null),a=d(null),S=()=>{a.value&&(e.photo=a.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>c()})},k=()=>{f.value=!0},V=()=>{a.value.click()},x=()=>{const m=a.value.files[0];if(!m)return;const b=new FileReader;b.onload=U=>{i.value=U.target.result},b.readAsDataURL(m)},L=()=>{w.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{i.value=null,c()}})},c=()=>{var m;(m=a.value)!=null&&m.value&&(a.value.value=null)},v={props:t,form:e,verificationLinkSent:f,photoPreview:i,photoInput:a,updateProfileInformation:S,sendEmailVerification:k,selectNewPhoto:V,updatePhotoPreview:x,deletePhoto:L,clearPhotoFileInput:c,ref:d,get Link(){return T},get router(){return w},get useForm(){return y},ActionMessage:A,FormSection:C,InputError:D,InputLabel:M,PrimaryButton:j,SecondaryButton:q,TextInput:z,DatePick:R};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},G={key:0,class:"col-span-6 sm:col-span-4"},H={class:"mt-2"},J=["src","alt"],K={class:"mt-2"},W={class:"col-span-6 sm:col-span-4"},X={class:"col-span-6 sm:col-span-4"},Y={class:"col-span-6 sm:col-span-4"},Z={class:"col-span-6 sm:col-span-4"},$={class:"col-span-6 sm:col-span-4"},ee={class:"col-span-6 sm:col-span-4"};function oe(u,o,t,e,f,i){return p(),g(e.FormSection,{onSubmitted:e.updateProfileInformation},{title:s(()=>o[6]||(o[6]=[n(" Profile Information ")])),description:s(()=>o[7]||(o[7]=[n(" Update your account's profile information and email address. ")])),form:s(()=>[u.$page.props.jetstream.managesProfilePhotos?(p(),E("div",G,[l("input",{id:"photo",ref:"photoInput",type:"file",class:"hidden",onChange:e.updatePhotoPreview},null,544),r(e.InputLabel,{for:"photo",value:"Photo"}),_(l("div",H,[l("img",{src:t.user.profile_photo_url,alt:t.user.name,class:"rounded-full size-20 object-cover"},null,8,J)],512),[[P,!e.photoPreview]]),_(l("div",K,[l("span",{class:"block rounded-full size-20 bg-cover bg-no-repeat bg-center",style:F("background-image: url('"+e.photoPreview+"');")},null,4)],512),[[P,e.photoPreview]]),r(e.SecondaryButton,{class:"mt-2 me-2",type:"button",onClick:h(e.selectNewPhoto,["prevent"])},{default:s(()=>o[8]||(o[8]=[n(" Select A New Photo ")])),_:1,__:[8]}),t.user.profile_photo_path?(p(),g(e.SecondaryButton,{key:0,type:"button",class:"mt-2",onClick:h(e.deletePhoto,["prevent"])},{default:s(()=>o[9]||(o[9]=[n(" Remove Photo ")])),_:1,__:[9]})):I("",!0),r(e.InputError,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):I("",!0),l("div",W,[r(e.InputLabel,{for:"first_name",value:"First Name"}),r(e.TextInput,{id:"first_name",modelValue:e.form.first_name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.first_name=a),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"first_name"},null,8,["modelValue"]),r(e.InputError,{message:e.form.errors.first_name,class:"mt-2"},null,8,["message"])]),l("div",X,[r(e.InputLabel,{for:"middle_name",value:"Middle Name"}),r(e.TextInput,{id:"middle_name",modelValue:e.form.middle_name,"onUpdate:modelValue":o[1]||(o[1]=a=>e.form.middle_name=a),type:"text",class:"mt-1 block w-full",autocomplete:"middle_name"},null,8,["modelValue"]),r(e.InputError,{message:e.form.errors.middle_name,class:"mt-2"},null,8,["message"])]),l("div",Y,[r(e.InputLabel,{for:"last_name",value:"Last Name"}),r(e.TextInput,{id:"last_name",modelValue:e.form.last_name,"onUpdate:modelValue":o[2]||(o[2]=a=>e.form.last_name=a),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"last_name"},null,8,["modelValue"]),r(e.InputError,{message:e.form.errors.last_name,class:"mt-2"},null,8,["message"])]),l("div",Z,[r(e.InputLabel,{for:"birthday",value:"Date of Birth",class:"mb-1 block w-full"}),r(e.DatePick,{modelValue:e.form.birthday,"onUpdate:modelValue":o[3]||(o[3]=a=>e.form.birthday=a),id:"birthday",autofocus:"",disabled:"",autocomplete:"birthday"},null,8,["modelValue"]),r(e.InputError,{class:"mt-2",message:e.form.errors.birthday},null,8,["message"])]),l("div",$,[r(e.InputLabel,{for:"address",value:"Address"}),_(l("textarea",{id:"address","onUpdate:modelValue":o[4]||(o[4]=a=>e.form.address=a),type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:"",autocomplete:"address"},null,512),[[N,e.form.address]]),r(e.InputError,{class:"mt-2",message:e.form.errors.address},null,8,["message"])]),l("div",ee,[r(e.InputLabel,{for:"email",value:"Email"}),r(e.TextInput,{id:"email",modelValue:e.form.email,"onUpdate:modelValue":o[5]||(o[5]=a=>e.form.email=a),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),r(e.InputError,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])])]),actions:s(()=>[r(e.ActionMessage,{on:e.form.recentlySuccessful,class:"me-3"},{default:s(()=>o[10]||(o[10]=[n(" Saved. ")])),_:1,__:[10]},8,["on"]),r(e.PrimaryButton,{class:B({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:s(()=>o[11]||(o[11]=[n(" Save ")])),_:1,__:[11]},8,["class","disabled"])]),_:1})}const pe=O(Q,[["render",oe],["__file","UpdateProfileInformationForm.vue"]]);export{pe as default};
